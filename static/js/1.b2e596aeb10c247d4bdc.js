webpackJsonp([1],{"8P8D":function(t,e){},AKx0:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPg0KICA8cGF0aCBmaWxsPSJ3aGl0ZSIgZD0iTTMgMThoMTh2LTJIM3Yyem0wLTVoMTh2LTJIM3Yyem0wLTd2MmgxOFY2SDN6Ii8+DQo8L3N2Zz4="},p8pa:function(t,e){},tZZY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),r=a.n(s),n=a("NYxO"),o=a("wtEF"),i={name:"Navigation",data:function(){return{userName:"",highestScore:"",title:"Sharlushka"}},mounted:function(){this.highestScore=localStorage.getItem("highestScore"),this.userName=localStorage.getItem("userName")},computed:{computedGameScore:function(){return o.a.state.schoolScoreTotal+o.a.state.gameTotal},rollsLeft:function(){return o.a.state.rollCount}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{"align-center":"","justify-space-around":"",row:"",id:"gameNavigation"}},[s("v-flex",{staticClass:"score text-xs-left"},[t._v("\n    "+t._s(t.computedGameScore)+"\n  ")]),t._v(" "),s("v-flex",{staticClass:"game-name text-xs-center",attrs:{role:"button","aria-label":"Go to main page"}},[s("router-link",{attrs:{to:"/"}},[t._v(t._s(t.title))])],1),t._v(" "),s("v-flex",{staticClass:"settings-icon text-xs-right"},[s("v-btn",{attrs:{to:"/settings",fab:"",flat:"",ripple:"",color:"#79008f","aria-label":"Go to settings"}},[s("v-img",{attrs:{src:a("AKx0"),contain:"",height:"3em"}})],1)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(i,l,!1,function(t){a("p8pa")},"data-v-1fce5719",null).exports,u={name:"DiceBox",props:["turnCompleted"],data:function(){return{mainButtonState:{play:!0,roll:!1,save:!1,disabled:!1}}},watch:{turnCompleted:{immediate:!0,handler:function(){this.updateMainButtonState()}}},computed:r()({},Object(n.c)(["getDiceArray","getCurrentGameState"])),methods:{updateMainButtonState:function(){var t=document.querySelector(".main-button");if(this.mainButtonState.play=!0,this.mainButtonState.save=!1,this.mainButtonState.roll=!1,3!==this.getCurrentGameState.rollsCountForButton||this.getCurrentGameState.turnCompleted||(this.mainButtonState.play=!0),this.getCurrentGameState.rollsCountForButton<=2&&!this.getCurrentGameState.turnCompleted&&(this.mainButtonState.play=!1,this.mainButtonState.roll=!0),this.getCurrentGameState.turnCompleted&&(this.mainButtonState.roll=!1,this.mainButtonState.play=!0,this.mainButtonState.disabled=!1),0!==this.getCurrentGameState.rollsCountForButton||this.getCurrentGameState.turnCompleted)return!1;this.mainButtonState.roll=!1,this.mainButtonState.play=!1,this.mainButtonState.save=!0,this.mainButtonState.disabled=!0,t.classList.add("bounce")},handleMainGameButtonClick:function(){this.getCurrentGameState.rollsCountForButton>0&&!this.getCurrentGameState.turnCompleted&&(this.diceRolled||(this.diceRolled=!0),o.a.commit("rollDice"),this.updateMainButtonState())},selectDice:function(t){var e=t.currentTarget,a=document.querySelector(".dice-box");e.classList.contains("chosen")?a.appendChild(e):a.insertBefore(e,a.childNodes[0]),o.a.commit("setDiceChosenState",e.id),o.a.commit("computeScore")}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{"d-flex":"","ma-0":"","pa-0":"",id:"diceControls"}},[a("v-layout",{staticClass:"dice-box-layout",attrs:{row:"","align-center":""}},[a("v-flex",{staticClass:"game-dice-container dice-box",class:{visible:!t.turnCompleted},attrs:{"d-flex":"",xs9:""}},t._l(this.getDiceArray,function(e){return a("svg",{key:e.id,staticClass:"dice-icon default",class:{chosen:e.chosen},attrs:{id:e.id,fill:"none"},on:{click:t.selectDice}},[a("use",t._b({staticClass:"game-dice animated fadeIn"},"use",{"xlink:href":"#"+e.currentIcon},!1))])})),t._v(" "),a("v-flex",{staticClass:"main-button animated delay-s",class:{save:this.mainButtonState.save,bounce:this.mainButtonState.save},on:{click:t.handleMainGameButtonClick}},[a("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[this.mainButtonState.play?a("v-flex",{staticClass:"play-arrow animated fadeIn",attrs:{xs2:""}}):t._e(),t._v(" "),this.mainButtonState.roll&&this.getCurrentGameState.rollsCountForButton<=3?a("v-flex",{staticClass:"circle-container animated fadeIn"},[a("v-layout",{attrs:{row:"","justify-center":""}},t._l(this.getCurrentGameState.rollsCountForButton,function(t,e){return a("div",{key:e,staticClass:"roll-circle animated fadeIn"})}))],1):t._e(),t._v(" "),this.mainButtonState.save?a("v-flex",{staticClass:"stop-brick animated fadeIn",attrs:{xs4:""}}):t._e()],1)],1)],1)],1)},staticRenderFns:[]};var m={name:"Game",data:function(){return{title:"Sharlushka",highestScore:0,turnCompleted:!1,progressBarLength:3}},components:{Navigation:c,DiceBox:a("VU/8")(u,d,!1,function(t){a("8P8D")},"data-v-657bd98c",null).exports},computed:r()({},Object(n.c)(["debugInfo","chosenDiceArray","currentValuesInScoreArray","getSchoolArray","getCombinationArray","getDiceArray","getCurrentGameState"]),{turnState:function(){return o.a.state.newTurn},progressBarState:function(){return o.a.state.rollCount}}),watch:{turnState:{immediate:!0,handler:function(){this.turnCompleted=!this.turnState}},progressBarState:{immediate:!0,handler:function(){if(!document.querySelector(".progress-bar"))return!1;this.updateProgressBar()}}},mounted:function(){var t=localStorage.getItem("highestScore");t&&(this.highestScore=t)},methods:r()({},Object(n.b)(["nextTurn","computeScore"]),{updateProgressBar:function(){var t=document.querySelector(".progress-bar");2===o.a.state.rollCount?t.style.width="33%":1===o.a.state.rollCount?t.style.width="66%":0===o.a.state.rollCount?(t.style.width="100%",t.classList.add("full")):3===o.a.state.rollCount&&(t.style.width="0%",t.classList.remove("full"))},handleBoardClick:function(t){for(var e=!1,a=null,s=t.target;!e&&s;)s.classList.contains("school-dice-icon")||s.classList.contains("dice-icon")||s.classList.contains("game-combination")?(a=s.id,e=!0):s.getAttribute("resultId")?(a=s.getAttribute("resultId"),e=!0):s=s.parentElement;a?this.recordResult(a):console.log("Id is: "+a)},clearResultBox:function(){for(var t in o.a.state.scoreArray)o.a.state.scoreArray[t].final||(o.a.state.scoreArray[t].value="");for(var e in o.a.state.diceArray)o.a.state.diceArray[e].chosen&&(o.a.state.diceArray[e].chosen=!1)},debugMode:function(){o.a.state.debug=!0},recordResult:function(t){var e=t,a=o.a.state.scoreArray.map(function(t){return t.id}).indexOf(e);if(o.a.state.schoolCompleted||""===o.a.state.scoreArray[a].value||o.a.state.turnCompleted||o.a.state.scoreArray[a].final)if(""!==o.a.state.scoreArray[a].value&&o.a.state.scoreArray[a].displayValues&&o.a.state.scoreArray[a].displayValues.length<3&&!o.a.state.turnCompleted)o.a.state.turnCompleted=!0,o.a.state.scoreArray[a].displayValues.push(o.a.state.scoreArray[a].value),o.a.state.gameTotal+=o.a.state.scoreArray[a].value,3===o.a.state.scoreArray[a].displayValues.length&&(o.a.state.scoreArray[a].final=!0,o.a.state.scoreArray[a].value=""),this.clearResultBox();else{if(o.a.state.turnCompleted||""!==o.a.state.scoreArray[a].value||o.a.state.scoreArray[a].final||!o.a.state.schoolCompleted||0!==o.a.state.rollCount||o.a.state.zeroCheck)return!1;o.a.state.scoreArray[a].displayValues.length<3&&(o.a.state.scoreArray[a].displayValues.push(0),o.a.state.zeroCheck=!0,this.clearResultBox(),o.a.state.turnCompleted=!0),3===o.a.state.scoreArray[a].displayValues.length&&(o.a.state.scoreArray[a].final=!0),o.a.state.turnCompleted=!0}else o.a.state.scoreArray[a].final=!0,o.a.state.schoolScoreTotal+=o.a.state.scoreArray[a].value,o.a.state.turnCompleted=!0,6===o.a.state.currentGameTurn&&(o.a.state.schoolCompleted=!0),this.clearResultBox();if(33===o.a.state.currentGameTurn&&o.a.state.turnCompleted){var s=o.a.state.schoolScoreTotal+o.a.state.gameTotal,r=localStorage.getItem("highestScore");r?s>r?localStorage.setItem("highestScore",s):console.log("Your score is not so high "+s):localStorage.setItem("highestScore",s),this.$router.push({path:"/endgame"})}else this.turnCompleted=!0,o.a.commit("nextTurn"),this.updateProgressBar();this.turnCompleted=!0}})},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","fill-height":"","ma-0":"","pa-0":"",id:"gameView"}},[a("Navigation"),t._v(" "),a("v-layout",{staticClass:"game-layout",attrs:{column:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{staticClass:"school-dice-container",attrs:{"d-flex":"","align-center":""}},t._l(this.getSchoolArray,function(e){return a("svg",{key:e.id,staticClass:"school-dice-icon default",class:{chosen:e.final},attrs:{id:e.id,fill:"none"},on:{click:t.handleBoardClick}},[a("use",t._b({},"use",{"xlink:href":"#"+e.icon},!1))])}))],1),t._v(" "),a("v-layout",{staticClass:"school-results-layout",attrs:{row:""}},t._l(this.getSchoolArray,function(e){return a("v-flex",{key:e.id,staticClass:"school-result",class:{saved:e.final,blink:!e.final},attrs:{"d-flex":"",xs2:"","align-center":"","justify-center":""},on:{click:t.handleBoardClick}},[a("span",{attrs:{resultId:e.id}},[t._v(t._s(e.value))])])})),t._v(" "),a("v-layout",{staticClass:"game-combinations-layout",attrs:{column:"","justify-center":""}},t._l(this.getCombinationArray,function(e){return a("v-flex",{key:e.id,staticClass:"game-combination",class:{set:e.final},attrs:{"d-flex":"","align-center":"",id:e.id},on:{click:t.handleBoardClick}},[a("v-layout",[a("v-flex",{attrs:{xs6:"","pl-2":""}},[t._v(t._s(e.fullName))]),t._v(" "),t._l(e.displayValues,function(e,s){return a("v-flex",{key:s,staticClass:"text-xs-center",attrs:{xs2:""}},[t._v("\n              "+t._s(e)+"\n            ")])}),t._v(" "),e.value?a("v-flex",{staticClass:"blink text-xs-center",attrs:{xs2:""}},[t._v("\n              "+t._s(e.value)+"\n            ")]):t._e()],2)],1)})),t._v(" "),a("DiceBox",{attrs:{turnCompleted:t.turnCompleted}})],1),t._v(" "),a("div",{staticClass:"progress-bar"})],1)},staticRenderFns:[]};var f=a("VU/8")(m,h,!1,function(t){a("wvu/")},"data-v-ce07ada4",null);e.default=f.exports},"wvu/":function(t,e){}});
//# sourceMappingURL=1.b2e596aeb10c247d4bdc.js.map