webpackJsonp([4],{"/XI+":function(e,s){},dIqY:function(e,s,t){"use strict";function r(e){t("/XI+")}Object.defineProperty(s,"__esModule",{value:!0});var a=t("qVsQ"),o=t("7G8Q"),n=t("yviF"),l=t.n(n),i=(t("dih4"),t("stGB")),c={name:"register",data:function(){return{users:[],errorMessage:"",pageTitle:"Register",valid:!0,name:"",nameRules:[function(e){return!e||e.length<=10||"Name must be less than 10 characters"}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],password:"",passwordRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length<=12||"Password must be less than 12 characters"}],confirmPassword:"",select:null,items:["Item 1","Item 2","Item 3","Item 4"],checkbox:!1}},components:{closeButton:i.a},computed:{comparePasswords:function(){return this.password===this.confirmPassword||"Passwords do not match"}},methods:{signUp:function(){var e=this;this.errorMessage="",this.email&&this.password&&l.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(s){var t={isAuthenticated:!0,uid:s.user.uid};e.$store.commit("setUser",t),""===e.name&&(e.name="Anonymous");var r=localStorage.getItem("highestScore"),a=void 0;r?a=localStorage.getItem("lastScoresArray"):(r="",a="");var o={name:e.name,uid:s.user.uid,email:s.user.email,resultsArray:a,hiScore:r};e.addNewUser(o),e.$store.state.user.name=e.name,console.log("User added "+s.user.email),e.verifyUserEmail(),e.$router.push("/")}).catch(function(s){console.log(s.message),e.errorMessage=s.message})},addNewUser:function(e){console.log("Adding user"),a.a.collection("users").doc().set(e),console.log("Document successfully written!")},verifyUserEmail:function(){l.a.auth().currentUser.sendEmailVerification().then(function(){console.log("Email sent")}).catch(function(e){console.log("Error! "+e)})},clear:function(){this.$refs.form.reset()}},created:function(){l.a.apps.length||l.a.initializeApp(o.a),console.log("Register page created")}},u=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("v-layout",{attrs:{column:"",id:"register","pa-2":"","pt-3":""}},[t("v-spacer"),e._v(" "),t("closeButton"),e._v(" "),t("v-alert",{attrs:{value:e.errorMessage,dismissible:"",outline:"",type:"error"}},[e._v("\n    "+e._s(e.errorMessage)+"\n  ")]),e._v(" "),t("v-flex",{staticClass:"register-title text-xs-center"},[t("h1",[e._v(e._s(e.pageTitle))])]),e._v(" "),t("v-layout",{staticClass:"register-form",attrs:{"justify-center":""}},[t("v-flex",{attrs:{xs8:""}},[t("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(s){e.valid=s},expression:"valid"}},[t("v-text-field",{attrs:{rules:e.nameRules,counter:10,label:"Name",autocomplete:"username"},model:{value:e.name,callback:function(s){e.name=s},expression:"name"}}),e._v(" "),t("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",autocomplete:"email",required:""},model:{value:e.email,callback:function(s){e.email=s},expression:"email"}}),e._v(" "),t("v-text-field",{attrs:{type:"password",rules:e.passwordRules,label:"Password",autocomplete:"current-password",required:""},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),e._v(" "),t("v-text-field",{attrs:{rules:[e.comparePasswords],type:"password",label:"Confirm password",autocomplete:"off",required:""},model:{value:e.confirmPassword,callback:function(s){e.confirmPassword=s},expression:"confirmPassword"}})],1)],1)],1),e._v(" "),t("v-layout",{staticClass:"buttons text-xs-center",attrs:{"justify-center":""}},[t("v-flex",{attrs:{xs5:"","d-flex":""}},[t("v-btn",{staticClass:"white--text",attrs:{disabled:!e.valid,large:"",color:"orange"},on:{click:function(s){return s.preventDefault(),e.signUp(s)}}},[e._v("\n        register\n      ")])],1),e._v(" "),t("v-flex",{attrs:{xs5:"","d-flex":""}},[t("v-btn",{staticClass:"button white--text",attrs:{large:"",color:"purple darken-1"},on:{click:e.clear}},[e._v("\n        clear\n      ")])],1)],1)],1)},d=[],m={render:u,staticRenderFns:d},f=m,v=t("VU/8"),p=r,g=v(c,f,!1,p,"data-v-d6336f5e",null);s.default=g.exports}});
//# sourceMappingURL=4.1d04ae392a3c76635597.js.map