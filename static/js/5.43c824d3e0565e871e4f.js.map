{"version":3,"sources":["webpack:///static/js/5.43c824d3e0565e871e4f.js","webpack:///./src/views/Leaderboard.vue","webpack:///src/views/Leaderboard.vue","webpack:///./src/views/Leaderboard.vue?9e2d"],"names":["webpackJsonp","g+oD","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","get_iterator","get_iterator_default","n","helpers_extends","extends_default","CloseBtn","vuex_esm","firebaseInit","Leaderboard","name","data","title","userName","leaderboard","userDataFromDB","noLeaderboardMessage","components","closeBtn","mounted","_this","this","$nextTick","console","log","getUserData","isAuthenticated","getDataForLeaderboard","getDefaultUserName","computed","methods","_this2","collection","orderBy","get","then","querySnapshot","forEach","doc","userData","id","hiScore","resultsArray","push","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","user","arraySum","accumulator","currentValue","userResultsArray","split","map","Number","averageScore","parseInt","reduce","length","percent","Math","floor","getMaxPossibleScore","leaderBoardUserData","percentFromMax","gamesPlayed","err","return","reverse","catch","error","render","_vm","_h","$createElement","_c","_self","attrs","column","_v","staticClass","_s","align-center","xs1","color","xs3","xs2","py-4","_e","_l","index","key","class","orange--text","py-2","staticRenderFns","esExports","views_Leaderboard","normalizeComponent","__vue_styles__","Component","jF9h","exports"],"mappings":"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","file":"static/js/5.43c824d3e0565e871e4f.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ \"g+oD\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/get-iterator.js\nvar get_iterator = __webpack_require__(\"BO1k\");\nvar get_iterator_default = /*#__PURE__*/__webpack_require__.n(get_iterator);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/extends.js\nvar helpers_extends = __webpack_require__(\"Dd8w\");\nvar extends_default = /*#__PURE__*/__webpack_require__.n(helpers_extends);\n\n// EXTERNAL MODULE: ./src/components/CloseBtn.vue + 2 modules\nvar CloseBtn = __webpack_require__(\"stGB\");\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__(\"NYxO\");\n\n// EXTERNAL MODULE: ./src/components/firebaseInit.js\nvar firebaseInit = __webpack_require__(\"qVsQ\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/Leaderboard.vue\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var Leaderboard = ({\n  name: 'Leaderboard',\n  data: function data() {\n    return {\n      title: 'leaderboard',\n      userName: null,\n      leaderboard: [],\n      userDataFromDB: [],\n      noLeaderboardMessage: null\n    };\n  },\n  components: {\n    closeBtn: CloseBtn[\"a\" /* default */]\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      console.log('Leaderboard mounted');\n      if (_this.getUserData.isAuthenticated) {\n        console.log('Getting leaderboard data from db...');\n        _this.getDataForLeaderboard();\n      } else {\n        _this.userName = _this.getDefaultUserName;\n        _this.noLeaderboardMessage = 'Hi, ' + _this.userName + ', log in to view the leaderboard.';\n      }\n    });\n  },\n\n  computed: extends_default()({}, Object(vuex_esm[\"c\" /* mapGetters */])(['getDefaultUserName', 'getUserData', 'getMaxPossibleScore'])),\n  methods: {\n    getDataForLeaderboard: function getDataForLeaderboard() {\n      var _this2 = this;\n\n      var usersDataRef = firebaseInit[\"a\" /* default */].collection('users');\n      usersDataRef.orderBy('hiScore').get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          var userData = {\n            id: doc.id,\n            userName: doc.data().name,\n            hiScore: doc.data().hiScore,\n            resultsArray: doc.data().resultsArray\n          };\n          _this2.userDataFromDB.push(userData);\n        });\n      }).then(function () {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = get_iterator_default()(_this2.userDataFromDB), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var user = _step.value;\n\n            // prepare data for leaderboard display\n            var arraySum = function arraySum(accumulator, currentValue) {\n              return accumulator + currentValue;\n            };\n            var userResultsArray = user.resultsArray.split(',').map(Number);\n            var averageScore = parseInt(userResultsArray.reduce(arraySum) / userResultsArray.length);\n            var percent = Math.floor(averageScore / _this2.getMaxPossibleScore * 100);\n            var leaderBoardUserData = {\n              id: user.id,\n              userName: user.userName,\n              hiScore: parseInt(user.hiScore),\n              averageScore: averageScore,\n              percentFromMax: percent,\n              gamesPlayed: userResultsArray.length\n            };\n            _this2.leaderboard.push(leaderBoardUserData);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        _this2.leaderboard.reverse();\n      }).catch(function (error) {\n        console.log('Error getting documents: ', error);\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-731be193\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Leaderboard.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"column\":\"\",\"id\":\"leaderboard\"}},[_c('v-flex',[_c('closeBtn')],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"text-xs-center py-4\"},[_c('h1',{staticClass:\"leaderboard-title text-capitalize\"},[_vm._v(\"\\n        \"+_vm._s(_vm.title)+\"\\n      \")])]),_vm._v(\" \"),_c('v-flex',{staticClass:\"leaderboard-legend text-xs-center pl-1 py-2\"},[_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"purple darken-2\"}},[_vm._v(\"import_export\")])],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"text-xs-left\",attrs:{\"xs3\":\"\"}},[_vm._v(\"\\n          Name\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          HiScore\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          Average\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          % Max\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          Games\\n        \")])],1)],1),_vm._v(\" \"),(_vm.noLeaderboardMessage)?_c('v-flex',{staticClass:\"leader-board-message text-xs-center\",attrs:{\"py-4\":\"\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.noLeaderboardMessage)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.noLeaderboardMessage === null)?_c('v-flex',{staticClass:\"leaderboard text-xs-center\"},_vm._l((_vm.leaderboard),function(user,index){return _c('v-layout',{key:index,staticClass:\"leaderboard-item\",class:{ 'orange--text': _vm.getUserData.name === user.userName },attrs:{\"py-2\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs1\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(index + 1)+\"\\n        \")]),_vm._v(\" \"),_c('v-flex',{staticClass:\"text-xs-left\",attrs:{\"xs3\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(user.userName)+\"\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(user.hiScore)+\"\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(user.averageScore)+\"\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(user.percentFromMax)+\"\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(user.gamesPlayed)+\"\\n        \")])],1)})):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var views_Leaderboard = (esExports);\n// CONCATENATED MODULE: ./src/views/Leaderboard.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"jF9h\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-731be193\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  Leaderboard,\n  views_Leaderboard,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_views_Leaderboard = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"jF9h\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/5.43c824d3e0565e871e4f.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-731be193\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Leaderboard.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Leaderboard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Leaderboard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-731be193\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Leaderboard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-731be193\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Leaderboard.vue\n// module id = null\n// module chunks = ","<template>\r\n  <v-layout column id=\"leaderboard\">\r\n    <v-flex>\r\n<!-- Close button -->\r\n      <closeBtn></closeBtn>\r\n    </v-flex>\r\n<!-- Title -->\r\n    <v-flex class=\"text-xs-center py-4\">\r\n      <h1 class=\"leaderboard-title text-capitalize\">\r\n        {{ title }}\r\n      </h1>\r\n    </v-flex>\r\n<!-- Users leaderboard legend -->\r\n    <v-flex class=\"leaderboard-legend text-xs-center pl-1 py-2\">\r\n      <v-layout align-center>\r\n        <v-flex xs1>\r\n          <v-icon color=\"purple darken-2\">import_export</v-icon>\r\n        </v-flex>\r\n        <v-flex xs3 class=\"text-xs-left\">\r\n          Name\r\n        </v-flex>\r\n        <v-flex xs2>\r\n          HiScore\r\n        </v-flex>\r\n        <v-flex xs2>\r\n          Average\r\n        </v-flex>\r\n        <v-flex xs2>\r\n          % Max\r\n        </v-flex>\r\n        <v-flex xs2>\r\n          Games\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-flex>\r\n<!-- No leaderboard message -->\r\n    <v-flex class=\"leader-board-message text-xs-center\" py-4\r\n      v-if=\"noLeaderboardMessage\">\r\n      {{ noLeaderboardMessage }}\r\n    </v-flex>\r\n<!-- Users leaderboard layout -->\r\n    <v-flex class=\"leaderboard text-xs-center\"\r\n      v-if=\"noLeaderboardMessage === null\">\r\n      <v-layout v-for=\"(user, index) in leaderboard\" :key=\"index\"\r\n        class=\"leaderboard-item\"\r\n        v-bind:class=\"{ 'orange--text': getUserData.name === user.userName }\" py-2>\r\n        <v-flex xs1 class=\"text-xs-center\">\r\n          {{ index + 1 }}\r\n        </v-flex>\r\n        <v-flex xs3 class=\"text-xs-left\">\r\n          {{ user.userName }}\r\n        </v-flex>\r\n        <v-flex xs2>\r\n          {{ user.hiScore }}\r\n        </v-flex>\r\n        <v-flex xs2>\r\n          {{ user.averageScore }}\r\n        </v-flex>\r\n        <v-flex xs2>\r\n          {{ user.percentFromMax }}\r\n        </v-flex>\r\n        <v-flex xs2>\r\n          {{ user.gamesPlayed }}\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-flex>\r\n  </v-layout>\r\n</template>\r\n\r\n<script>\r\nimport closeBtn from '../components/CloseBtn'\r\nimport { mapGetters } from 'vuex'\r\nimport db from '../components/firebaseInit'\r\n\r\nexport default {\r\n  name: 'Leaderboard',\r\n  data: () => ({\r\n    title: 'leaderboard',\r\n    userName: null,\r\n    leaderboard: [],\r\n    userDataFromDB: [],\r\n    noLeaderboardMessage: null\r\n  }),\r\n  components: {\r\n    closeBtn\r\n  },\r\n  mounted () {\r\n    this.$nextTick(() => {\r\n      console.log('Leaderboard mounted')\r\n      if (this.getUserData.isAuthenticated) {\r\n        console.log(`Getting leaderboard data from db...`)\r\n        this.getDataForLeaderboard()\r\n      } else {\r\n        this.userName = this.getDefaultUserName\r\n        this.noLeaderboardMessage = `Hi, ${this.userName}, log in to view the leaderboard.`\r\n      }\r\n    })\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'getDefaultUserName',\r\n      'getUserData',\r\n      'getMaxPossibleScore'\r\n    ])\r\n  },\r\n  methods: {\r\n    getDataForLeaderboard () {\r\n      let usersDataRef = db.collection('users')\r\n      usersDataRef.orderBy('hiScore').get()\r\n        .then(querySnapshot => {\r\n          querySnapshot.forEach(doc => {\r\n            let userData = {\r\n              id: doc.id,\r\n              userName: doc.data().name,\r\n              hiScore: doc.data().hiScore,\r\n              resultsArray: doc.data().resultsArray\r\n            }\r\n            this.userDataFromDB.push(userData)\r\n          })\r\n        })\r\n        .then(() => {\r\n          for (let user of this.userDataFromDB) {\r\n            // prepare data for leaderboard display\r\n            const arraySum = (accumulator, currentValue) => accumulator + currentValue\r\n            let userResultsArray = user.resultsArray.split(',').map(Number)\r\n            let averageScore = parseInt(userResultsArray.reduce(arraySum) / userResultsArray.length)\r\n            let percent = Math.floor(averageScore / this.getMaxPossibleScore * 100)\r\n            let leaderBoardUserData = {\r\n              id: user.id,\r\n              userName: user.userName,\r\n              hiScore: parseInt(user.hiScore),\r\n              averageScore: averageScore,\r\n              percentFromMax: percent,\r\n              gamesPlayed: userResultsArray.length\r\n            }\r\n            this.leaderboard.push(leaderBoardUserData)\r\n          }\r\n          this.leaderboard.reverse()\r\n        })\r\n        .catch(function (error) {\r\n          console.log('Error getting documents: ', error)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/scss/index.scss\"; // is this really neccesary?\r\n\r\n#leaderboard {\r\n  font-family: $text-font;\r\n}\r\n\r\n.leaderboard-title {\r\n  font-size: 2em;\r\n}\r\n\r\n.leaderboard-legend {\r\n  font-weight: 700;\r\n  color: $color-primary-3;\r\n  background-color: $color-pale-primary;\r\n}\r\n\r\n.leader-board-message {\r\n  color: $color-primary-3;\r\n  font-size: 1.4em;\r\n}\r\n\r\n.leaderboard {\r\n  font-size: 1.2em;\r\n  font-weight: 700;\r\n  color: $color-primary-2;\r\n}\r\n\r\n.leaderboard-item:hover {\r\n  background-color: $color-pale-primary;\r\n}\r\n\r\n.curret-user {\r\n  color: red;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Leaderboard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"column\":\"\",\"id\":\"leaderboard\"}},[_c('v-flex',[_c('closeBtn')],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"text-xs-center py-4\"},[_c('h1',{staticClass:\"leaderboard-title text-capitalize\"},[_vm._v(\"\\n        \"+_vm._s(_vm.title)+\"\\n      \")])]),_vm._v(\" \"),_c('v-flex',{staticClass:\"leaderboard-legend text-xs-center pl-1 py-2\"},[_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"purple darken-2\"}},[_vm._v(\"import_export\")])],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"text-xs-left\",attrs:{\"xs3\":\"\"}},[_vm._v(\"\\n          Name\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          HiScore\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          Average\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          % Max\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          Games\\n        \")])],1)],1),_vm._v(\" \"),(_vm.noLeaderboardMessage)?_c('v-flex',{staticClass:\"leader-board-message text-xs-center\",attrs:{\"py-4\":\"\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.noLeaderboardMessage)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.noLeaderboardMessage === null)?_c('v-flex',{staticClass:\"leaderboard text-xs-center\"},_vm._l((_vm.leaderboard),function(user,index){return _c('v-layout',{key:index,staticClass:\"leaderboard-item\",class:{ 'orange--text': _vm.getUserData.name === user.userName },attrs:{\"py-2\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs1\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(index + 1)+\"\\n        \")]),_vm._v(\" \"),_c('v-flex',{staticClass:\"text-xs-left\",attrs:{\"xs3\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(user.userName)+\"\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(user.hiScore)+\"\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(user.averageScore)+\"\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(user.percentFromMax)+\"\\n        \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(user.gamesPlayed)+\"\\n        \")])],1)})):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-731be193\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Leaderboard.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}