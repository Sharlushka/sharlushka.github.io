webpackJsonp([2],{"5GQ5":function(t,e){},LzgP:function(t,e){},aXlG:function(t,e){},tZZY:function(t,e,a){"use strict";function r(t){a("5GQ5")}function s(t){a("LzgP")}function n(t){a("aXlG")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("Dd8w"),i=a.n(o),l=a("NYxO"),c=a("wtEF"),u={name:"Navigation",data:function(){return{title:"Sharlushka",offlineMessage:!1,navDrawer:!0,admins:[["Management","people_outline"],["Settings","settings"]],cruds:[["Create","add"],["Read","insert_drive_file"],["Update","update"],["Delete","delete"]]}},computed:{networkStatus:function(){return this.isOnline?"ok":null},computedGameScore:function(){return c.a.state.schoolScoreTotal+c.a.state.gameTotal},rollsLeft:function(){return c.a.state.rollCount}}},d=function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-layout",{attrs:{"align-center":"",row:"",id:"gameNavigation"}})},m=[],h={render:d,staticRenderFns:m},v=h,f=a("VU/8"),g=r,y=f(u,v,!1,g,"data-v-2be382b5",null),C=y.exports,p=a("BO1k"),x=a.n(p),S={name:"DiceBox",props:["turnCompleted"],data:function(){return{navigatorSupported:!1,hidden:!1,zzz:"zzz",mainButtonState:{play:!0,roll:!1,save:!1,disabled:!1}}},mounted:function(){this.$nextTick(function(){console.log("Dice box component mounted"),"vibrate"in navigator&&(this.navigatorSupported=!0)})},watch:{turnCompleted:{immediate:!0,handler:function(){this.getCurrentGameState.gameEnded||(this.updateMainButtonState(),this.hidden=!this.hidden)}}},computed:i()({},Object(l.c)(["getDiceArray","getCurrentGameState"])),methods:{vibrate:function(){console.log("zzz"),this.zzz+="-zzz";var t=[5,75,66,300,33,150,15];navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate(t)},vibrateOnce:function(){console.log("One z");var t=[10];navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate(t)},updateMainButtonState:function(){var t=document.querySelector(".main-button");if(!t)return!1;this.mainButtonState.play=!0,this.mainButtonState.save=!1,this.mainButtonState.roll=!1,3!==this.getCurrentGameState.rollsCountForButton||this.getCurrentGameState.turnCompleted||(this.mainButtonState.play=!0),this.getCurrentGameState.rollsCountForButton<=2&&!this.getCurrentGameState.turnCompleted&&(this.mainButtonState.play=!1,this.mainButtonState.roll=!0),this.getCurrentGameState.turnCompleted&&(this.mainButtonState.roll=!1,this.mainButtonState.play=!0,this.mainButtonState.disabled=!1),0!==this.getCurrentGameState.rollsCountForButton||this.getCurrentGameState.turnCompleted||(this.mainButtonState.roll=!1,this.mainButtonState.play=!1,this.mainButtonState.save=!0,this.mainButtonState.disabled=!0,t.classList.add("bounce"))},handleMainGameButtonClick:function(){if(this.getCurrentGameState.rollsCountForButton>0&&!this.getCurrentGameState.turnCompleted){if(c.a.commit("rollDice"),this.getCurrentGameState.diceRollInProgress){var t=document.querySelectorAll(".dice-icon:not(.chosen)"),e=!0,a=!1,r=void 0;try{for(var s,n=x()(t);!(e=(s=n.next()).done);e=!0){s.value.classList.add("zoomIn")}}catch(t){a=!0,r=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw r}}}0===this.getCurrentGameState.currentRollCount&&this.getCurrentGameState.currentGameTurn<=6&&!this.getCurrentGameState.gameCheck&&this.$router.push({path:"/endgame"}),setTimeout(function(){var t=document.querySelectorAll(".dice-icon"),e=!0,a=!1,r=void 0;try{for(var s,n=x()(t);!(e=(s=n.next()).done);e=!0){s.value.classList.remove("zoomIn")}}catch(t){a=!0,r=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw r}}},500)}this.updateMainButtonState()},selectDice:function(t){var e=t.currentTarget,a=document.querySelector(".dice-box");e.classList.contains("chosen")?a.appendChild(e):a.insertBefore(e,a.childNodes[0]),c.a.commit("setDiceChosenState",e.id),c.a.commit("computeScore")}}},_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{"d-flex":"","ma-0":"","pa-0":"",id:"diceControls"}},[a("v-layout",{staticClass:"dice-box-layout",attrs:{row:"","align-center":""}},[a("v-flex",{staticClass:"game-dice-container dice-box",class:{visible:this.getCurrentGameState.gameEnded},attrs:{"d-flex":"",xs9:""}},t._l(this.getDiceArray,function(e){return a("svg",{key:e.id,staticClass:"dice-icon default animated",class:{chosen:e.chosen},attrs:{id:e.id,fill:"none"},on:{click:t.selectDice}},[a("use",t._b({staticClass:"game-dice animated fadeIn"},"use",{"xlink:href":"#"+e.currentIcon},!1))])})),t._v(" "),a("v-flex",{staticClass:"main-button animated",class:{save:this.mainButtonState.save,bounce:this.mainButtonState.save,fadeOut:this.getCurrentGameState.gameEnded,visible:this.getCurrentGameState.gameEnded},attrs:{"aria-label":"Main game button",type:"button"},on:{click:function(e){return e.preventDefault(),t.handleMainGameButtonClick(e)}}},[a("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[this.mainButtonState.play?a("v-flex",{staticClass:"play-arrow animated fadeIn",attrs:{xs2:""}}):t._e(),t._v(" "),this.mainButtonState.roll&&this.getCurrentGameState.rollsCountForButton<=3?a("v-flex",{staticClass:"circle-container animated fadeIn"},[a("v-layout",{attrs:{row:"","justify-center":""}},t._l(this.getCurrentGameState.rollsCountForButton,function(t,e){return a("div",{key:e,staticClass:"roll-circle animated fadeIn"})}))],1):t._e(),t._v(" "),this.mainButtonState.save?a("v-flex",{staticClass:"stop-brick animated fadeIn",attrs:{xs4:""}}):t._e()],1)],1)],1)],1)},b=[],B={render:_,staticRenderFns:b},A=B,w=a("VU/8"),k=s,G=w(S,A,!1,k,"data-v-02e8d5be",null),V=G.exports,z={name:"Game",data:function(){return{title:"Sharlushka",highestScore:0,turnCompleted:!1,progressBarLength:3}},components:{Navigation:C,DiceBox:V},computed:i()({},Object(l.c)(["debugInfo","chosenDiceArray","currentValuesInScoreArray","getSchoolArray","getCombinationArray","getDiceArray","getCurrentGameState"]),{turnState:function(){return c.a.state.newTurn},progressBarState:function(){return c.a.state.rollCount}}),watch:{turnState:{immediate:!0,handler:function(){this.turnCompleted=!this.turnState}},progressBarState:{immediate:!0,handler:function(){if(!document.querySelector(".progress-bar"))return!1;this.updateProgressBar()}}},mounted:function(){var t=localStorage.getItem("highestScore");t&&(this.highestScore=t)},methods:i()({},Object(l.b)(["nextTurn","computeScore"]),{updateProgressBar:function(){var t=document.querySelector(".progress-bar");2===c.a.state.rollCount?t.style.width="33%":1===c.a.state.rollCount?t.style.width="66%":0===c.a.state.rollCount?(t.style.width="100%",t.classList.add("full")):3===c.a.state.rollCount&&(t.style.width="0%",t.classList.remove("full"))},handleBoardClick:function(t){for(var e=!1,a=null,r=t.target;!e&&r;)r.classList.contains("school-dice-icon")||r.classList.contains("dice-icon")||r.classList.contains("game-combination")?(a=r.id,e=!0):r.getAttribute("resultId")?(a=r.getAttribute("resultId"),e=!0):r=r.parentElement;a?this.recordResult(a):console.log("Nothing to record Id is: "+a)},clearResultBox:function(){for(var t in c.a.state.scoreArray)c.a.state.scoreArray[t].final||(c.a.state.scoreArray[t].value="");for(var e in c.a.state.diceArray)c.a.state.diceArray[e].chosen&&(c.a.state.diceArray[e].chosen=!1)},debugMode:function(){c.a.state.debug=!0},recordResult:function(t){var e=this;console.log("Recording result.."),c.a.state.gameInProgress=!0;var a=t,r=c.a.state.scoreArray.map(function(t){return t.id}).indexOf(a);if(c.a.state.schoolCompleted||""===c.a.state.scoreArray[r].value||c.a.state.turnCompleted||c.a.state.scoreArray[r].final)if(""!==c.a.state.scoreArray[r].value&&c.a.state.scoreArray[r].displayValues&&c.a.state.scoreArray[r].displayValues.length<3&&!c.a.state.turnCompleted)c.a.state.turnCompleted=!0,c.a.state.scoreArray[r].displayValues.push(c.a.state.scoreArray[r].value),c.a.state.gameTotal+=c.a.state.scoreArray[r].value,3===c.a.state.scoreArray[r].displayValues.length&&(c.a.state.scoreArray[r].final=!0,c.a.state.scoreArray[r].value=""),this.clearResultBox();else{if(c.a.state.turnCompleted||""!==c.a.state.scoreArray[r].value||c.a.state.scoreArray[r].final||!c.a.state.schoolCompleted||0!==c.a.state.rollCount||c.a.state.zeroCheck)return!1;c.a.state.scoreArray[r].displayValues.length<3&&(c.a.state.scoreArray[r].displayValues.push(0),c.a.state.zeroCheck=!0,this.clearResultBox(),c.a.state.turnCompleted=!0),3===c.a.state.scoreArray[r].displayValues.length&&(c.a.state.scoreArray[r].final=!0),c.a.state.turnCompleted=!0}else c.a.state.scoreArray[r].final=!0,c.a.state.schoolScoreTotal+=c.a.state.scoreArray[r].value,c.a.state.turnCompleted=!0,6===c.a.state.currentGameTurn&&(c.a.state.schoolCompleted=!0),this.clearResultBox();33===c.a.state.currentGameTurn&&c.a.state.turnCompleted?(console.log("Game Over!"),c.a.state.gameEnded=!0,setTimeout(function(){console.log("Timer!"),e.$router.push("/endgame")},1500)):(this.turnCompleted=!0,c.a.commit("nextTurn"),this.updateProgressBar()),this.turnCompleted=!0,console.log("Turn completed")}})},T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":"","ma-0":"","pa-0":"",id:"gameView"}},[a("svg",{staticStyle:{display:"none"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[a("symbol",{attrs:{id:"diceOnes",viewBox:"0 0 200 200"}},[a("circle",{attrs:{fill:"currentColor",cx:"100",cy:"100",r:"18"}}),t._v(" "),a("path",{attrs:{"stroke-width":".4em",d:"M20,5H180a15,15,0,0,1,15,15V180a15,15,0,0,1-15,15H20A15,15,0,0,1,5,180V20A15,15,0,0,1,20,5Z"}})]),t._v(" "),a("symbol",{attrs:{id:"diceTwos",viewBox:"0 0 200 200"}},[a("circle",{attrs:{fill:"currentColor",cx:"50",cy:"150",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"150",cy:"50",r:"18"}}),t._v(" "),a("path",{attrs:{"stroke-width":".4em",d:"M20,5H180a15,15,0,0,1,15,15V180a15,15,0,0,1-15,15H20A15,15,0,0,1,5,180V20A15,15,0,0,1,20,5Z"}})]),t._v(" "),a("symbol",{staticClass:"dice",attrs:{id:"diceThrees",viewBox:"0 0 200 200"}},[a("circle",{attrs:{fill:"currentColor",cx:"50",cy:"150",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"100",cy:"100",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"150",cy:"50",r:"18"}}),t._v(" "),a("path",{attrs:{"stroke-width":".4em",d:"M20,5H180a15,15,0,0,1,15,15V180a15,15,0,0,1-15,15H20A15,15,0,0,1,5,180V20A15,15,0,0,1,20,5Z"}})]),t._v(" "),a("symbol",{staticClass:"dice",attrs:{id:"diceFours",viewBox:"0 0 200 200"}},[a("circle",{attrs:{fill:"currentColor",cx:"150",cy:"50",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"150",cy:"150",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"50",cy:"150",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"50",cy:"50",r:"18"}}),t._v(" "),a("path",{attrs:{"stroke-width":".4em",d:"M20,5H180a15,15,0,0,1,15,15V180a15,15,0,0,1-15,15H20A15,15,0,0,1,5,180V20A15,15,0,0,1,20,5Z"}})]),t._v(" "),a("symbol",{staticClass:"dice",attrs:{id:"diceFives",viewBox:"0 0 200 200"}},[a("circle",{attrs:{fill:"currentColor",cx:"100",cy:"100",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"150",cy:"50",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"150",cy:"150",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"50",cy:"150",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"50",cy:"50",r:"18"}}),t._v(" "),a("path",{attrs:{"stroke-width":".4em",d:"M20,5H180a15,15,0,0,1,15,15V180a15,15,0,0,1-15,15H20A15,15,0,0,1,5,180V20A15,15,0,0,1,20,5Z"}})]),t._v(" "),a("symbol",{staticClass:"dice",attrs:{id:"diceSixes",viewBox:"0 0 200 200"}},[a("circle",{attrs:{fill:"currentColor",cx:"150",cy:"100",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"150",cy:"50",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"150",cy:"150",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"50",cy:"150",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"50",cy:"100",r:"18"}}),t._v(" "),a("circle",{attrs:{fill:"currentColor",cx:"50",cy:"50",r:"18"}}),t._v(" "),a("path",{attrs:{"stroke-width":".4em",d:"M20,5H180a15,15,0,0,1,15,15V180a15,15,0,0,1-15,15H20A15,15,0,0,1,5,180V20A15,15,0,0,1,20,5Z"}})])]),t._v(" "),a("v-layout",{staticClass:"game-layout",class:{"game-ended":this.getCurrentGameState.gameEnded},attrs:{column:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{staticClass:"school-dice-container",attrs:{"d-flex":"","align-center":""}},t._l(this.getSchoolArray,function(e){return a("svg",{key:e.id,staticClass:"school-dice-icon default",class:{chosen:e.final},attrs:{id:e.id,fill:"none"},on:{click:t.handleBoardClick}},[a("use",t._b({},"use",{"xlink:href":"#"+e.icon},!1))])}))],1),t._v(" "),a("v-layout",{staticClass:"school-results-layout",attrs:{row:""}},t._l(this.getSchoolArray,function(e){return a("v-flex",{key:e.id,staticClass:"school-result",class:{saved:e.final,blink:!e.final},attrs:{"d-flex":"",xs2:"","align-center":"","justify-center":""},on:{click:t.handleBoardClick}},[a("span",{attrs:{resultId:e.id}},[t._v(t._s(e.value))])])})),t._v(" "),a("v-layout",{staticClass:"game-combinations-layout",attrs:{column:"","justify-center":""}},t._l(this.getCombinationArray,function(e){return a("v-flex",{key:e.id,staticClass:"game-combination",class:{set:e.final},attrs:{"d-flex":"","align-center":"",id:e.id},on:{click:t.handleBoardClick}},[a("v-layout",[a("v-flex",{attrs:{xs6:"","pl-2":""}},[t._v(t._s(e.fullName))]),t._v(" "),t._l(e.displayValues,function(e,r){return a("v-flex",{key:r,staticClass:"text-xs-center",attrs:{xs2:""}},[t._v("\n              "+t._s(e)+"\n            ")])}),t._v(" "),e.value?a("v-flex",{staticClass:"blink text-xs-center",attrs:{xs2:""}},[t._v("\n              "+t._s(e.value)+"\n            ")]):t._e()],2)],1)})),t._v(" "),a("DiceBox",{attrs:{turnCompleted:t.turnCompleted}})],1),t._v(" "),a("div",{staticClass:"progress-bar"})],1)},I=[],D={render:T,staticRenderFns:I},M=D,L=a("VU/8"),O=n,R=L(z,M,!1,O,"data-v-fa937f8e",null);e.default=R.exports}});
//# sourceMappingURL=2.ed4fe152c7459c3ca398.js.map