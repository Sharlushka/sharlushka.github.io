webpackJsonp([10],{"56b2":function(e,r){},"7G8Q":function(e,r,n){"use strict";r.a={apiKey:"AIzaSyD_vlh1xLKAAZPtwDcEvBuHNWRja6J0Zo0",authDomain:"sharlushka.firebaseapp.com",databaseURL:"https://sharlushka.firebaseio.com",projectId:"sharlushka",storageBucket:"sharlushka.appspot.com",messagingSenderId:"1059637672503"}},NHnr:function(e,r,n){"use strict";function a(e){n("56b2"),n("UExD")}function o(e){w.a.collection("users").where("uid","==",e).get().then(function(r){var n=void 0;return r.forEach(function(r){r.data().uid===e&&(n=r.data().name)}),C.a.commit("setUserName",n),n}).catch(function(e){console.log("Error getting documents: ",e)})}Object.defineProperty(r,"__esModule",{value:!0});var t=n("//Fk"),i=n.n(t),l=(n("u7Vc"),n("7+uW")),c=n("3EgV"),u=n.n(c),s={name:"App",data:function(){return{userName:"Anonymous"}},mounted:function(){this.$nextTick(function(){console.log("App started.")})}},f=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("v-app",[n("v-content",[n("transition",{attrs:{name:"custom-classes-transition",mode:"out-in","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOutLeft"}},[n("router-view")],1)],1)],1)},d=[],h={render:f,staticRenderFns:d},m=h,y=n("VU/8"),A=a,v=y(s,m,!1,A,null,null),g=v.exports,p=n("/ocq");l.default.use(p.a);var b=new p.a({mode:"hash",scrollBehavior:function(){return{y:0}},routes:[{path:"/",name:"MainPage",component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"US8T"))}},{path:"/register",name:"Register",component:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"dIqY"))}},{path:"/settings",name:"Settings",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"niH5"))}},{path:"/game",name:"Game",component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"tZZY"))}},{path:"/endgame",name:"EndGame",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"/rXD"))}},{path:"/help",name:"Help",component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"9YsO"))}},{path:"/login",name:"Login",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"xJsL"))}},{path:"/leaderboard",name:"LeaderBoard",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"g+oD"))}}]}),C=n("wtEF"),S=n("ydGU");Object(S.a)("service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var T=n("A5Ul"),P=n.n(T),k=n("7G8Q"),w=n("qVsQ"),I=n("yviF"),U=n.n(I);n("dih4");U.a.apps.length||U.a.initializeApp(k.a),U.a.firestore().settings({timestampsInSnapshots:!0});var x=new i.a(function(e){U.a.auth().onAuthStateChanged(function(r){r?(E.setUser(r),e(r)):console.log("No user!")})}),E={userUid:null,authenticated:function(){return x.then(function(e){return e&&!e.isAnonymous})},setUser:function(e){this.userUid=e.uid,console.log("User set "+e.email)}};this.getUserAuthState&&""!==this.getUserData.name||E.authenticated().then(function(e){var r=o(E.userUid);if(e){var n={isAuthenticated:!0,uid:E.userUid,name:r};C.a.commit("setUser",n)}}).catch(function(e){console.log("Error "+e)}),l.default.config.productionTip=!1,l.default.use(u.a,{iconfont:"md"}),l.default.use(P.a),l.default.use(n("Z5Pw")),new l.default({el:"#app",store:C.a,router:b,components:{App:g},template:"<App/>",render:function(e){return e(g)}})},UExD:function(e,r){},qVsQ:function(e,r,n){"use strict";var a=n("yviF"),o=n.n(a),t=(n("881v"),n("7G8Q"));o.a.apps.length||o.a.initializeApp(t.a),o.a.firestore().settings({timestampsInSnapshots:!0}),r.a=o.a.firestore()},wtEF:function(e,r,n){"use strict";var a=n("7+uW"),o=n("NYxO"),t=n("BO1k"),i=n.n(t),l={getCurrentGameState:function(e){return{currentTurn:e.currentGameTurn,rollsCountForButton:e.rollCount,schoolCompleted:e.schoolCompleted,currentGameTurn:e.currentGameTurn,currentRollCount:e.rollCount,turnCompleted:e.turnCompleted,gameEnded:e.gameEnded,diceRollInProgress:e.diceRollInProgress,gameCheck:e.gameCheck,gameInProgress:e.gameInProgress}},getProcessing:function(e){return e.processing},getError:function(e){return e.error},getDiceIds:function(e){var r=e.scoreArray.slice(0,e.diceArray.length+1),n=[],a=!0,o=!1,t=void 0;try{for(var l,c=i()(r);!(a=(l=c.next()).done);a=!0){var u=l.value;n.push(u.icon)}}catch(e){o=!0,t=e}finally{try{!a&&c.return&&c.return()}finally{if(o)throw t}}return n},getSchoolArray:function(e){return e.scoreArray.slice(0,e.diceArray.length+1)},getCombinationArray:function(e){return e.scoreArray.slice(e.diceArray.length+1,e.scoreArray.length)},getMaxPossibleScore:function(e){return e.maxPossibleScore},getUserAuthState:function(e){return e.user.isAuthenticated},getUserName:function(e){return e.user.name},getDiceArray:function(e){return e.diceArray},getTotalScore:function(e){return e.schoolScoreTotal+e.gameTotal},getSchoolScore:function(e){return e.schoolScoreTotal},getDefaultUserName:function(e){return e.defaultUserName},getUserData:function(e){return e.user},debugInfo:function(e){for(var r in e.diceArray)if(e.diceArray[r].chosen){var n={chosen:e.diceArray[r].chosen,firstDice:e.diceArray[0].chosen};return n}},chosenDiceArray:function(e){return e.diceArray.filter(function(e){return e.chosen})},currentValuesInScoreArray:function(e){return e.scoreArray.filter(function(e){return""!==e.value&&!e.final})}},c={computeScore:function(e){if(!e.turnCompleted){var r=[[],[],[],[],[],[]];if(e.combinationArray.length>0){for(var n in e.combinationArray)switch(e.combinationArray[n]){case 1:r[0].push(e.combinationArray[n]);break;case 2:r[1].push(e.combinationArray[n]);break;case 3:r[2].push(e.combinationArray[n]);break;case 4:r[3].push(e.combinationArray[n]);break;case 5:r[4].push(e.combinationArray[n]);break;case 6:r[5].push(e.combinationArray[n]);break;default:return console.log("Can't create array to analyse"),!1}if(e.schoolCompleted){var a=[],o=[],t=[],i=[],l=function(e,r){return e+r};for(var c in r){var u=r[c][0];if(u){if(2===r[u-1].length&&a.push(u),3===r[u-1].length&&o.push(u),4===r[u-1].length&&t.push(u),(a.length>=1||o.length>=1)&&!e.scoreArray[6].final){var s=0;if(a.length>0&&(s=2*a[0],e.scoreArray[6].value=s),a.length>1?(s=a[0]>a[1]?2*a[0]:2*a[1],e.scoreArray[6].value=s):1===a.length&&(s=2*a[0],e.scoreArray[6].value=s),1===o.length){var f=2*o[0];e.scoreArray[6].value=f>s?f:s}}else e.scoreArray[6].final||(e.scoreArray[6].value="");if(2!==a.length||e.scoreArray[7].final)if(1!==a.length||1!==o.length||e.scoreArray[7].final)a.length<2&&!e.scoreArray[7].final&&(e.scoreArray[7].value="");else{var d=2*a[0]+2*o[0];e.scoreArray[7].value=d}else e.scoreArray[7].value=2*a[0]+2*a[1];1!==o.length||e.scoreArray[8].final?e.scoreArray[8].final||(e.scoreArray[8].value=""):e.scoreArray[8].value=3*o[0],1!==o.length||1!==a.length||e.scoreArray[9].final?e.scoreArray[9].final||(e.scoreArray[9].value=""):e.scoreArray[9].value=3*o[0]+2*a[0],t>=1?(e.scoreArray[10].final||(e.scoreArray[10].value=4*t[0]),e.scoreArray[8].final||(e.scoreArray[8].value=3*t[0]),e.scoreArray[6].final||(e.scoreArray[6].value=2*t[0])):e.scoreArray[10].final||(e.scoreArray[10].value=""),5!==r[u-1].length||e.scoreArray[11].final?e.scoreArray[11].final||(e.scoreArray[11].value=""):(e.scoreArray[11].value=5*u+80,e.scoreArray[10].final||(e.scoreArray[10].value=4*r[u-1]),e.scoreArray[8].final||(e.scoreArray[8].value=3*r[u-1]),e.scoreArray[6].final||(e.scoreArray[6].value=2*r[u-1])),1===r[u-1].length?(i.push(u),5===i.length&&(i.sort(),1!==i[0]||5!==i[i.length-1]||e.scoreArray[12].final?2!==i[0]||6!==i[i.length-1]||e.scoreArray[13].final||(e.scoreArray[13].value=i.reduce(l)):e.scoreArray[12].value=i.reduce(l))):e.scoreArray[12].final?e.scoreArray[13].final||(e.scoreArray[13].value=""):e.scoreArray[12].value="";var h=e.combinationArray.reduce(l);e.scoreArray[14].final?e.scoreArray[14].final||(e.scoreArray[14].value=""):e.scoreArray[14].value=h}}}else{var m=void 0;for(var y in r){var A=r[y][0];A||!0===e.scoreArray[y].final||(e.scoreArray[y].value=""),m=3===r[y].length?0:(r[y].length-3)*r[y][0],A&&!0!==e.scoreArray[A-1].final&&(e.scoreArray[A-1].value=m)}}}else if(0===e.combinationArray.length){console.log("Ain't got shit, captain");for(var v in e.scoreArray)!0!==e.scoreArray[v].final&&(e.scoreArray[v].value="")}else alert("Error!")}},setDiceChosenState:function(e,r){for(var n in e.diceArray)if(e.diceArray[n].id===r)if(e.diceArray[n].chosen){e.diceArray[n].chosen=!1;var a=e.diceArray[n].value,o=e.combinationArray.indexOf(a);e.combinationArray.splice(o,1)}else e.combinationArray.push(e.diceArray[n].value),e.diceArray[n].chosen=!0},rollDice:function(e){e.newTurn=!1,e.diceRollInProgress=!0,e.rollCount--;var r=!0,n=!1,a=void 0;try{for(var o,t=i()(e.diceArray);!(r=(o=t.next()).done);r=!0){var l=o.value;if(!l.chosen){var c=function(e){return Math.floor(Math.random()*Math.floor(e))}(6)+1;l.value=c,l.currentIcon=e.scoreArray[c-1].icon}}}catch(e){n=!0,a=e}finally{try{!r&&t.return&&t.return()}finally{if(n)throw a}}if(0===e.rollCount&&e.currentGameTurn<=6&&!e.turnCompleted){for(var u=[],s=0;s<=5;s++)""!==e.scoreArray[s].value&&e.scoreArray[s].final||u.push(s+1);var f=!0,d=!1,h=void 0;try{for(var m,y=i()(u);!(f=(m=y.next()).done);f=!0){var A=m.value;for(var v in e.diceArray)e.diceArray[v].value===A&&(console.log("All ok, one found at "+e.diceArray[v].id+" with value "+e.diceArray[v].value),e.gameCheck=!0)}}catch(e){d=!0,h=e}finally{try{!f&&y.return&&y.return()}finally{if(d)throw h}}}if(e.currentGameTurn<=6&&0===e.rollCount&&!e.turnCompleted&&!e.gameCheck)return console.log("You can't even finish the school... Score is: "+e.schoolScoreTotal),e.gameEnded=!0,!1;e.diceBoxHidden=!1},nextTurn:function(e){e.newTurn=!0,e.gameCheck=!1,e.zeroCheck=!1,e.diceBoxHidden=!0,e.currentGameTurn++,e.turnCompleted=!1,e.rollCount=3;for(var r in e.diceArray)e.diceArray[r].value="#",e.diceArray[r].chosen=!1;e.combinationArray=[]},stopDiceRollProcess:function(e){e.diceRollInProgress=!1},resetState:function(e){e.newTurn=!0,e.diceRolled=!0,e.schoolScoreTotal=0,e.gameTotal=0,e.schoolCompleted=!1,e.currentGameTurn=1,e.maxGameTurns=33,e.rollCount=3,e.gameCheck=!1,e.turnCompleted=!1,e.gameInProgress=!1,e.gameEnded=!1,e.combinationArray=[];var r=!0,n=!1,a=void 0;try{for(var o,t=i()(e.scoreArray);!(r=(o=t.next()).done);r=!0){var l=o.value;l.value="",l.final=!1,l.displayValues&&(l.displayValues=[])}}catch(e){n=!0,a=e}finally{try{!r&&t.return&&t.return()}finally{if(n)throw a}}var c=!0,u=!1,s=void 0;try{for(var f,d=i()(e.diceArray);!(c=(f=d.next()).done);c=!0){var h=f.value;h.value="#",h.chosen=!1}}catch(e){u=!0,s=e}finally{try{!c&&d.return&&d.return()}finally{if(u)throw s}}},setUser:function(e,r){e.user=r},setUserName:function(e,r){e.user.name=r},setAuthState:function(e,r){r||(e.user.isAuthenticated=!1,e.user.uid="",e.user.name="")},SET_PROCESSING:function(e,r){e.processing=r},SET_ERROR:function(e,r){e.error=r},CLEAR_ERROR:function(e){e.error=null}};a.default.use(o.a);var u=function(){return{user:{isAuthenticated:!1,uid:null,name:""},debug:!1,error:"No error",processing:!1,defaultUserName:"Anonymous",newTurn:!0,diceRollInProgress:!1,schoolScoreTotal:0,gameTotal:0,schoolCompleted:!1,currentGameTurn:1,gameInProgress:!1,maxGameTurns:33,rollCount:3,gameCheck:!1,turnCompleted:!1,gameEnded:!1,maxPossibleScore:879,combinationArray:[],scoreArray:[{value:"",final:!1,id:"ones",icon:"diceOnes"},{value:"",final:!1,id:"twos",icon:"diceTwos"},{value:"",final:!1,id:"threes",icon:"diceThrees"},{value:"",final:!1,id:"fours",icon:"diceFours"},{value:"",final:!1,id:"fives",icon:"diceFives"},{value:"",final:!1,id:"sixes",icon:"diceSixes"},{value:"",displayValues:[],final:!1,id:"pair",fullName:"Pair"},{value:"",displayValues:[],final:!1,id:"twoPairs",fullName:"Two Pairs"},{value:"",displayValues:[],final:!1,id:"threeOfAKind",fullName:"Three O.A.K"},{value:"",displayValues:[],final:!1,id:"full",fullName:"Full"},{value:"",displayValues:[],final:!1,id:"quads",fullName:"Quads"},{value:"",displayValues:[],final:!1,id:"poker",fullName:"Poker"},{value:"",displayValues:[],final:!1,id:"small",fullName:"Small"},{value:"",displayValues:[],final:!1,id:"large",fullName:"Large"},{value:"",displayValues:[],final:!1,id:"chance",fullName:"Chance"}],diceArray:[{value:"#",chosen:!1,id:"first",currentIcon:""},{value:"#",chosen:!1,id:"second",currentIcon:""},{value:"#",chosen:!1,id:"third",currentIcon:""},{value:"#",chosen:!1,id:"fourth",currentIcon:""},{value:"#",chosen:!1,id:"fifth",currentIcon:""}]}}(),s={setCurrentIcon:function(e){return(0,e.commit)("setCurrentIcon")},resetGameState:function(e){return(0,e.commit)("resetState")},computeScore:function(e){return(0,e.commit)("computeScore")},rollDice:function(e){return(0,e.commit)("rollDice")},nextTurn:function(e){return(0,e.commit)("nextTurn")}};r.a=new o.a.Store({state:u,getters:l,mutations:c,actions:s})}},["NHnr"]);
//# sourceMappingURL=app.7f241061dbe5448ab7d9.js.map