{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/views/Login.vue?5772","webpack:///./src/views/Login.vue?e475","webpack:///./src/views/Login.vue?e8a6","webpack:///./src/views/Login.vue?375b","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?4fab","webpack:///./src/views/Login.vue","webpack:///./src/components/CloseBtn.vue?46b1","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./src/components/CloseBtn.vue?a6bf","webpack:///./src/components/CloseBtn.vue?955e","webpack:///./src/components/CloseBtn.vue?5c7b","webpack:///./src/components/CloseBtn.vue?7bb1","webpack:///src/components/CloseBtn.vue","webpack:///./src/assets/icons/baseline-close-24px.svg","webpack:///./src/components/CloseBtn.vue","webpack:///./src/firebase/firebaseInit.js"],"names":["dP","__webpack_require__","f","FProto","Function","prototype","nameRE","configurable","get","this","match","e","content","module","i","locals","exports","add","default","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","n","push","views_Loginvue_type_script_lang_js_","name","components","closeBtn","data","loggingIn","signingOut","errorMessage","undefined","newUserBtnText","pageTitle","valid","email","emailRules","v","test","password","passwordRules","length","confirmPassword","usersCollRef","computed","_objectSpread","Object","vuex_esm","comparePasswords","mounted","$nextTick","console","log","methods","login","_this","toggleButtonLoadingState","index_cjs_default","a","auth","signInWithEmailAndPassword","then","response","getUserDataFromDB","user","uid","$router","catch","err","message","signOut","_this2","loggingOut","$store","commit","localStorage","clear","error","firebaseInit","collection","where","querySnapshot","forEach","doc","setItem","hiScore","resultsArray","schoolResultsArray","btn","concat","button","_typeof","clearForm","$refs","form","reset","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","fluid","pa-0","_v","column","d-flex","value","dismissible","outline","relative","type","_s","justify-center","xs9","align-center","py-4","ref","lazy-validation","model","callback","$$v","expression","rules","label","autocomplete","required","color","row","wrap","xs5","loading","ripple","on","click","$event","preventDefault","disabled","xs12","getUserAuthState","to","__webpack_exports__","toObject","$keys","it","$export","core","fails","KEY","exec","fn","exp","S","F","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_CloseBtn_vue_vue_type_style_index_0_id_26d1e6e8_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","components_CloseBtnvue_type_script_lang_js_","closeIcon","functional","[object Object]","children","class","classNames","style","staticStyle","rest","assign","xmlns","width","height","viewBox","d","fill","small","icon","fab","dark","go","firebase_app__WEBPACK_IMPORTED_MODULE_0__","firebase_app__WEBPACK_IMPORTED_MODULE_0___default","firebase","firestore","settings","timestampsInSnapshots"],"mappings":"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","file":"login.283a147be760b3fb8605.js","sourcesContent":["var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"25b5cef2\", content, true, {});","import mod from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"@font-face{font-family:'Quicksand';font-style:normal;font-weight:400;font-display:swap;src:local(\\\"Quicksand Regular\\\"),local(\\\"Quicksand-Regular\\\"),url(https://fonts.gstatic.com/s/quicksand/v8/6xKtdSZaM9iE8KbpRA_hK1QN.woff2) format(\\\"woff2\\\");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Montserrat';font-style:normal;font-weight:400;font-display:swap;src:local(\\\"Montserrat Regular\\\"),local(\\\"Montserrat-Regular\\\"),url(https://fonts.gstatic.com/s/montserrat/v12/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format(\\\"woff2\\\");unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116}.default use{color:#7B1FA2;stroke:#7B1FA2}.chosen use{color:#FF9800;stroke:#FF9800}.highlighted{color:#FF9800;fill:#FF9800}.default-icon-color{color:#7B1FA2;fill:#7B1FA2}.login-form,.page-title,.info-text,.button{font-family:\\\"Quicksand\\\",\\\"Verdana\\\",sans-serif}.info-text{color:#7B1FA2;font-size:1.4em;font-weight:700}\\n\", \"\"]);\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"text-xs-center\",attrs:{\"id\":\"login\",\"fluid\":\"\",\"pa-0\":\"\"}},[_c('closeBtn'),_vm._v(\" \"),_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',{attrs:{\"d-flex\":\"\"}},[_c('v-alert',{attrs:{\"value\":_vm.errorMessage,\"dismissible\":\"\",\"outline\":\"\",\"relative\":\"\",\"type\":\"error\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.errorMessage)+\"\\n      \")])],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"page-title py-4\",attrs:{\"d-flex\":\"\"}},[_c('h1',[_vm._v(_vm._s(_vm.pageTitle))])]),_vm._v(\" \"),_c('v-layout',{staticClass:\"login-form py-4\",attrs:{\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs9\":\"\",\"d-flex\":\"\",\"align-center\":\"\",\"py-4\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"label\":\"E-mail\",\"type\":'email',\"autocomplete\":\"off\",\"required\":\"\",\"color\":\"purple accent-4\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"rules\":_vm.passwordRules,\"type\":'password',\"label\":\"Password\",\"autocomplete\":\"off\",\"required\":\"\",\"color\":\"purple accent-4\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1)],1),_vm._v(\" \"),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"d-flex\":\"\",\"xs5\":\"\"}},[_c('v-btn',{staticClass:\"button white--text\",attrs:{\"type\":'submit',\"loading\":_vm.loggingIn,\"outline\":\"\",\"ripple\":\"\",\"color\":\"orange\"},on:{\"click\":function($event){$event.preventDefault();return _vm.login($event)}}},[_vm._v(\"\\n          login\\n        \")])],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"d-flex\":\"\",\"xs5\":\"\"}},[_c('v-btn',{staticClass:\"button white--text\",attrs:{\"disabled\":_vm.valid,\"outline\":\"\",\"ripple\":\"\",\"color\":\"purple darken-1\"},on:{\"click\":_vm.clearForm}},[_vm._v(\"\\n          clear\\n        \")])],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"info-text\",attrs:{\"xs12\":\"\",\"py-4\":\"\",\"align-center\":\"\"}},[_c('v-divider')],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"d-flex\":\"\",\"xs5\":\"\"}},[_c('v-btn',{staticClass:\"button white--text\",attrs:{\"loading\":_vm.signingOut,\"disabled\":!_vm.getUserAuthState,\"outline\":\"\",\"ripple\":\"\",\"color\":\"purple darken-1\"},on:{\"click\":_vm.signOut}},[_vm._v(\"\\n          log out\\n        \")])],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"d-flex\":\"\",\"xs5\":\"\"}},[_c('v-btn',{staticClass:\"button white--text\",attrs:{\"to\":\"/register\",\"outline\":\"\",\"ripple\":\"\",\"color\":\"purple darken-1\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.newUserBtnText)+\"\\n        \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container\n    id=\"login\"\n    fluid\n    pa-0\n    class=\"text-xs-center\"\n  >\n    <!-- Close button -->\n    <closeBtn />\n    <!-- Error message -->\n    <v-layout column>\n      <v-flex d-flex>\n        <v-alert\n          :value=\"errorMessage\"\n          dismissible\n          outline\n          relative\n          type=\"error\"\n        >\n          {{ errorMessage }}\n        </v-alert>\n      </v-flex>\n      <!-- Page title -->\n      <v-flex\n        d-flex\n        class=\"page-title py-4\"\n      >\n        <h1>{{ pageTitle }}</h1>\n      </v-flex>\n      <!-- Input form -->\n      <v-layout\n        justify-center\n        class=\"login-form py-4\"\n      >\n        <v-flex\n          xs9\n          d-flex\n          align-center\n          py-4\n        >\n          <v-form\n            ref=\"form\"\n            v-model=\"valid\"\n            lazy-validation\n          >\n            <v-text-field\n              v-model=\"email\"\n              :rules=\"emailRules\"\n              label=\"E-mail\"\n              :type=\"'email'\"\n              autocomplete=\"off\"\n              required\n              color=\"purple accent-4\"\n            />\n            <v-text-field\n              v-model=\"password\"\n              :rules=\"passwordRules\"\n              :type=\"'password'\"\n              label=\"Password\"\n              autocomplete=\"off\"\n              required\n              color=\"purple accent-4\"\n            />\n          </v-form>\n        </v-flex>\n      </v-layout>\n      <!-- Buttons layout -->\n      <v-layout\n        row\n        wrap\n        justify-center\n      >\n        <v-flex\n          d-flex\n          xs5\n        >\n          <v-btn\n            :type=\"'submit'\"\n            :loading=\"loggingIn\"\n            outline\n            ripple\n            class=\"button white--text\"\n            color=\"orange\"\n            @click.prevent=\"login\"\n          >\n            login\n          </v-btn>\n        </v-flex>\n\n        <v-flex\n          d-flex\n          xs5\n        >\n          <v-btn\n            :disabled=\"valid\"\n            outline\n            ripple\n            class=\"button white--text\"\n            color=\"purple darken-1\"\n            @click=\"clearForm\"\n          >\n            clear\n          </v-btn>\n        </v-flex>\n\n        <v-flex\n          xs12\n          py-4\n          align-center\n          class=\"info-text\"\n        >\n          <v-divider />\n        </v-flex>\n\n        <v-flex\n          d-flex\n          xs5\n        >\n          <v-btn\n            :loading=\"signingOut\"\n            :disabled=\"!getUserAuthState\"\n            outline\n            ripple\n            class=\"button white--text\"\n            color=\"purple darken-1\"\n            @click=\"signOut\"\n          >\n            log out\n          </v-btn>\n        </v-flex>\n\n        <v-flex\n          d-flex\n          xs5\n        >\n          <v-btn\n            to=\"/register\"\n            outline\n            ripple\n            class=\"button white--text\"\n            color=\"purple darken-1\"\n          >\n            {{ newUserBtnText }}\n          </v-btn>\n        </v-flex>\n      </v-layout>\n      <!-- End of buttons layout -->\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport firebase from 'firebase/app'\nimport db from '../firebase/firebaseInit'\nimport 'firebase/auth'\nimport closeBtn from '../components/CloseBtn.vue'\n\nexport default {\n  name: `Login`,\n  components: {\n    closeBtn\n  },\n  data: () => ({\n    loggingIn: false,\n    signingOut: false,\n    errorMessage: undefined,\n    newUserBtnText: `Register`,\n    pageTitle: `Log In`,\n    valid: true,\n    email: ``,\n    emailRules: [\n      (v) => !!v || `E-mail is required`,\n      (v) => /.+@.+/.test(v) || `E-mail must be valid`\n    ],\n    password: ``,\n    passwordRules: [\n      (v) => !!v || `Password is required`,\n      (v) => v && v.length <= 12 || `Password must be less than 12 characters`\n    ],\n    confirmPassword: ``,\n    usersCollRef: `users`\n  }),\n  computed: {\n    ...mapGetters([\n      `getUserAuthState`\n    ]),\n    comparePasswords() {\n      return this.password !== this.confirmPassword ? `Passwords do not match` : true\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      console.log(`Login page mounted.`)\n    })\n  },\n  methods: {\n    login() {\n      console.log(`Signing user in.`)\n      this.errorMessage = undefined // null\n      if (this.email && this.password) { // need some proper validation\n        this.toggleButtonLoadingState(`login`)\n        firebase.auth()\n          .signInWithEmailAndPassword(this.email, this.password)\n          .then(response => {\n            this.getUserDataFromDB(response.user.uid)\n          }).then(() => {\n            this.toggleButtonLoadingState(`login`)\n            this.$router.push(`/game`)\n          }).catch(err => {\n            console.log(err.message)\n            this.errorMessage = err.message\n            this.toggleButtonLoadingState(`login`)\n            return false\n          })\n        return true\n      }\n    },\n    signOut() {\n      console.log(`Signing user out.`)\n      this.toggleButtonLoadingState(`signout`)\n      firebase.auth().signOut().then(() => {\n        this.loggingOut = !this.loggingOut\n        this.$store.commit(`setUserIsLoggedIn`, false)\n        localStorage.clear()\n        this.$router.push(`/`)\n        this.toggleButtonLoadingState(`signout`)\n      }).catch((error) => {\n        console.error(`Sign Out Error:`, error)\n        this.toggleButtonLoadingState(`signout`)\n      })\n    },\n    getUserDataFromDB(uid) {\n      db.collection(this.usersCollRef).where(`uid`, `==`, uid)\n        .get()\n        .then(querySnapshot => {\n          querySnapshot.forEach(doc => {\n            if (doc.data().uid === uid) {\n              // save to local storage\n              localStorage.setItem(`userName`, doc.data().name)\n              localStorage.setItem(`userUid`, doc.data().uid)\n              localStorage.setItem(`highestScore`, doc.data().hiScore)\n              localStorage.setItem(`lastScoresArray`, doc.data().resultsArray)\n              localStorage.setItem(`schoolScores`, doc.data().schoolResultsArray)\n            }\n          })\n        })\n        .catch(error => {\n          console.log(`Error getting documents: `, error)\n        })\n    },\n    toggleButtonLoadingState(btn) {\n      console.log(`Button to toggle ${btn}`)\n      if (btn === `login`) {\n        this.loggingIn = !this.loggingIn\n        return true\n      } else if (btn === `signout`) {\n        this.signingOut = !this.signingOut\n        return true\n      } else {\n        console.log(`Nothing to toggle, button is ${typeof button}`)\n        return false\n      }\n    },\n    clearForm() {\n      this.$refs.form.reset()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '../assets/scss/index.scss';\n\n.login-form, .page-title, .info-text, .button {\n  font-family: $text-font;\n}\n.info-text {\n  color: $color-primary-0;\n  font-size: 1.4em;\n  font-weight: 700;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=07733a04&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseBtn.vue?vue&type=style&index=0&id=26d1e6e8&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5c5beb6d\", content, true, {});","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","import mod from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseBtn.vue?vue&type=style&index=0&id=26d1e6e8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseBtn.vue?vue&type=style&index=0&id=26d1e6e8&lang=scss&scoped=true&\"","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".close-btn[data-v-26d1e6e8]{fill:#7B1FA2}\\n\", \"\"]);\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-flex',{staticClass:\"text-xs-right\"},[_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"fab\":\"\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('closeIcon',{staticClass:\"close-btn\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseBtn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseBtn.vue?vue&type=script&lang=js&\"","<template>\n  <v-flex class=\"text-xs-right\">\n    <v-btn\n      small\n      icon\n      fab\n      dark\n      @click=\"$router.go(-1)\"\n    >\n      <closeIcon class=\"close-btn\" />\n    </v-btn>\n  </v-flex>\n</template>\n\n<script>\nimport closeIcon from '../assets/icons/baseline-close-24px.svg'\n\nexport default {\n  name: `CloseBtn`,\n  components: {\n    closeIcon\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/scss/vars/colors.scss\";\n\n.close-btn {\n  fill: $color-primary-0;\n}\n</style>\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"33\",\"height\":\"33\",\"viewBox\":\"0 0 24 24\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"}}),_c('path',{attrs:{\"d\":\"M0 0h24v24H0z\",\"fill\":\"none\"}})])\n          )\n        }\n      }\n    ","import { render, staticRenderFns } from \"./CloseBtn.vue?vue&type=template&id=26d1e6e8&scoped=true&\"\nimport script from \"./CloseBtn.vue?vue&type=script&lang=js&\"\nexport * from \"./CloseBtn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CloseBtn.vue?vue&type=style&index=0&id=26d1e6e8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26d1e6e8\",\n  null\n  \n)\n\nexport default component.exports","import firebase from 'firebase/app'\nimport 'firebase/firestore'\n// import firebaseConfig from './firebaseConfig'\n/*\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig)\n} */\nfirebase.firestore().settings({timestampsInSnapshots: true})\nexport default firebase.firestore()\n"],"sourceRoot":""}