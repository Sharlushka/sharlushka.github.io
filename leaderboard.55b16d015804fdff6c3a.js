(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{105:function(t,e,r){var n=r(7).f,a=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in a||r(8)&&n(a,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},107:function(t,e,r){var n=r(134);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,r(34).default)("eecef202",n,!0,{})},128:function(t,e,r){"use strict";var n=r(2),a=r(5),o=r(37),s=r(129),i=r(24),c=r(6),l=r(42).f,u=r(56).f,f=r(7).f,d=r(131).trim,v=n.Number,p=v,g=v.prototype,h="Number"==o(r(41)(g)),x="trim"in String.prototype,m=function(t){var e=i(t,!1);if("string"==typeof e&&e.length>2){var r,n,a,o=(e=x?e.trim():d(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if((s=c.charCodeAt(l))<48||s>a)return NaN;return parseInt(c,n)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof v&&(h?c(function(){g.valueOf.call(r)}):"Number"!=o(r))?s(new p(m(e)),r,v):m(e)};for(var b,_=r(8)?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;_.length>y;y++)a(p,b=_[y])&&!a(v,b)&&f(v,b,u(p,b));v.prototype=g,g.constructor=v,r(14)(n,"Number",v)}},129:function(t,e,r){var n=r(10),a=r(130).set;t.exports=function(t,e,r){var o,s=e.constructor;return s!==r&&"function"==typeof s&&(o=s.prototype)!==r.prototype&&n(o)&&a&&a(t,o),t}},130:function(t,e,r){var n=r(10),a=r(16),o=function(t,e){if(a(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=r(58)(Function.call,r(56).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return o(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:o}},131:function(t,e,r){var n=r(22),a=r(38),o=r(6),s=r(132),i="["+s+"]",c=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),u=function(t,e,r){var a={},i=o(function(){return!!s[t]()||"​"!="​"[t]()}),c=a[t]=i?e(f):s[t];r&&(a[r]=c),n(n.P+n.F*i,"String",a)},f=u.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=u},132:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},133:function(t,e,r){"use strict";var n=r(107);r.n(n).a},134:function(t,e,r){(t.exports=r(21)(!1)).push([t.i,'@font-face{font-family:\'Quicksand\';font-style:normal;font-weight:400;font-display:swap;src:local("Quicksand Regular"),local("Quicksand-Regular"),url(https://fonts.gstatic.com/s/quicksand/v8/6xKtdSZaM9iE8KbpRA_hK1QN.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:\'Montserrat\';font-style:normal;font-weight:400;font-display:swap;src:local("Montserrat Regular"),local("Montserrat-Regular"),url(https://fonts.gstatic.com/s/montserrat/v12/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116}.default use[data-v-7263824a]{color:#7B1FA2;stroke:#7B1FA2}.chosen use[data-v-7263824a]{color:#FF9800;stroke:#FF9800}#leaderboard[data-v-7263824a]{font-family:"Quicksand","Verdana",sans-serif}.leaderboard-title[data-v-7263824a]{font-size:2em}.leaderboard-legend[data-v-7263824a]{font-weight:700;color:#301246;background-color:rgba(242,225,255,0.5)}.leader-board-message[data-v-7263824a]{color:#301246;font-size:1.4em}.leaderboard[data-v-7263824a]{font-size:1.2em;font-weight:700;color:#7B4B9D}.leaderboard-item[data-v-7263824a]:hover{background-color:rgba(242,225,255,0.5)}.curret-user[data-v-7263824a]{color:red}\n',""])},140:function(t,e,r){"use strict";r.r(e);r(55),r(87),r(128),r(91),r(39),r(40),r(105),r(35);var n=r(89),a=r(23),o=r(90);function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i={name:"Leaderboard",components:{closeBtn:n.a},data:function(){return{title:"leaderboard",userName:null,leaderboard:[],userDataFromDB:[],noLeaderboardMessage:null}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){s(t,e,r[e])})}return t}({},Object(a.c)(["getDefaultUserName","getUserData","getMaxPossibleScore"])),mounted:function(){var t=this;this.$nextTick(function(){console.log("Leaderboard mounted"),t.getUserData.isAuthenticated?(console.log("Getting leaderboard data from db..."),t.getDataForLeaderboard()):(t.userName=t.getDefaultUserName,t.noLeaderboardMessage="Hi, ".concat(t.userName,",\n        log in to view the leaderboard."))})},methods:{getDataForLeaderboard:function(){var t=this;o.a.collection("users").orderBy("hiScore").get().then(function(e){e.forEach(function(e){var r={id:e.id,userName:e.data().name,hiScore:e.data().hiScore,resultsArray:e.data().resultsArray};t.userDataFromDB.push(r)})}).then(function(){var e=!0,r=!1,n=void 0;try{for(var a,o=t.userDataFromDB[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var s=a.value,i=s.resultsArray.split(",").map(Number),c=parseInt(i.reduce(function(t,e){return t+e})/i.length),l=Math.floor(c/t.getMaxPossibleScore*100),u={id:s.id,userName:s.userName,hiScore:parseInt(s.hiScore),averageScore:c,percentFromMax:l,gamesPlayed:i.length};t.leaderboard.push(u)}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}t.leaderboard.reverse()}).catch(function(t){console.log("Error getting documents: ",t)})}}},c=(r(133),r(33)),l=Object(c.a)(i,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{id:"leaderboard",column:""}},[r("v-flex",[r("closeBtn")],1),t._v(" "),r("v-flex",{staticClass:"text-xs-center py-4"},[r("h1",{staticClass:"leaderboard-title text-capitalize"},[t._v("\n      "+t._s(t.title)+"\n    ")])]),t._v(" "),r("v-flex",{staticClass:"leaderboard-legend text-xs-center pl-1 py-2"},[r("v-layout",{attrs:{"align-center":""}},[r("v-flex",{attrs:{xs1:""}},[r("v-icon",{attrs:{color:"purple darken-2"}},[t._v("\n          import_export\n        ")])],1),t._v(" "),r("v-flex",{staticClass:"text-xs-left",attrs:{xs3:""}},[t._v("\n        Name\n      ")]),t._v(" "),r("v-flex",{attrs:{xs2:""}},[t._v("\n        HiScore\n      ")]),t._v(" "),r("v-flex",{attrs:{xs2:""}},[t._v("\n        Average\n      ")]),t._v(" "),r("v-flex",{attrs:{xs2:""}},[t._v("\n        % Max\n      ")]),t._v(" "),r("v-flex",{attrs:{xs2:""}},[t._v("\n        Games\n      ")])],1)],1),t._v(" "),t.noLeaderboardMessage?r("v-flex",{staticClass:"leader-board-message text-xs-center",attrs:{"py-4":""}},[t._v("\n    "+t._s(t.noLeaderboardMessage)+"\n  ")]):t._e(),t._v(" "),null===t.noLeaderboardMessage?r("v-flex",{staticClass:"leaderboard text-xs-center"},t._l(t.leaderboard,function(e,n){return r("v-layout",{key:n,staticClass:"leaderboard-item",class:{"orange--text":t.getUserData.name===e.userName},attrs:{"py-2":""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs1:""}},[t._v("\n        "+t._s(n+1)+"\n      ")]),t._v(" "),r("v-flex",{staticClass:"text-xs-left",attrs:{xs3:""}},[t._v("\n        "+t._s(e.userName)+"\n      ")]),t._v(" "),r("v-flex",{attrs:{xs2:""}},[t._v("\n        "+t._s(e.hiScore)+"\n      ")]),t._v(" "),r("v-flex",{attrs:{xs2:""}},[t._v("\n        "+t._s(e.averageScore)+"\n      ")]),t._v(" "),r("v-flex",{attrs:{xs2:""}},[t._v("\n        "+t._s(e.percentFromMax)+"\n      ")]),t._v(" "),r("v-flex",{attrs:{xs2:""}},[t._v("\n        "+t._s(e.gamesPlayed)+"\n      ")])],1)}),1):t._e()],1)},[],!1,null,"7263824a",null);e.default=l.exports},87:function(t,e,r){var n=r(36),a=r(13);r(88)("keys",function(){return function(t){return a(n(t))}})},88:function(t,e,r){var n=r(22),a=r(12),o=r(6);t.exports=function(t,e){var r=(a.Object||{})[t]||Object[t],s={};s[t]=e(r),n(n.S+n.F*o(function(){r(1)}),"Object",s)}},89:function(t,e,r){"use strict";var n={name:"CloseBtn"},a=r(33),o=Object(a.a)(n,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-flex",{staticClass:"text-xs-right"},[r("v-btn",{attrs:{small:"",icon:"",fab:"",dark:""},on:{click:function(e){return t.$router.go(-1)}}},[r("v-icon",{attrs:{size:"3em",color:"#79008f"}},[t._v("\n      close\n    ")])],1)],1)},[],!1,null,null,null);e.a=o.exports},90:function(t,e,r){"use strict";var n=r(15),a=r.n(n);r(95);a.a.firestore().settings({timestampsInSnapshots:!0}),e.a=a.a.firestore()},91:function(t,e,r){r(92)("split",2,function(t,e,n){"use strict";var a=r(93),o=n,s=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var i=void 0===/()??/.exec("")[1];n=function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!a(t))return o.call(r,t,e);var n,c,l,u,f,d=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=void 0===e?4294967295:e>>>0,h=new RegExp(t.source,v+"g");for(i||(n=new RegExp("^"+h.source+"$(?!\\s)",v));(c=h.exec(r))&&!((l=c.index+c[0].length)>p&&(d.push(r.slice(p,c.index)),!i&&c.length>1&&c[0].replace(n,function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(c[f]=void 0)}),c.length>1&&c.index<r.length&&s.apply(d,c.slice(1)),u=c[0].length,p=l,d.length>=g));)h.lastIndex===c.index&&h.lastIndex++;return p===r.length?!u&&h.test("")||d.push(""):d.push(r.slice(p)),d.length>g?d.slice(0,g):d}}else"0".split(void 0,0).length&&(n=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(r,a){var o=t(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,o,a):n.call(String(o),r,a)},n]})},92:function(t,e,r){"use strict";var n=r(4),a=r(14),o=r(6),s=r(38),i=r(3);t.exports=function(t,e,r){var c=i(t),l=r(s,c,""[t]),u=l[0],f=l[1];o(function(){var e={};return e[c]=function(){return 7},7!=""[t](e)})&&(a(String.prototype,t,u),n(RegExp.prototype,c,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},93:function(t,e,r){var n=r(10),a=r(37),o=r(3)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==a(t))}}}]);
//# sourceMappingURL=leaderboard.55b16d015804fdff6c3a.js.map