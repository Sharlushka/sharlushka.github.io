(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{104:function(e,t,r){var a=r(7).f,n=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in n||r(8)&&a(n,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},106:function(e,t,r){var a=r(134);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,r(35).default)("eecef202",a,!0,{})},128:function(e,t,r){"use strict";var a=r(2),n=r(6),o=r(38),s=r(129),i=r(24),l=r(5),c=r(42).f,u=r(57).f,f=r(7).f,d=r(131).trim,v=a.Number,p=v,g=v.prototype,h="Number"==o(r(41)(g)),x="trim"in String.prototype,m=function(e){var t=i(e,!1);if("string"==typeof t&&t.length>2){var r,a,n,o=(t=x?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+t}for(var s,l=t.slice(2),c=0,u=l.length;c<u;c++)if((s=l.charCodeAt(c))<48||s>n)return NaN;return parseInt(l,a)}}return+t};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof v&&(h?l(function(){g.valueOf.call(r)}):"Number"!=o(r))?s(new p(m(t)),r,v):m(t)};for(var b,_=r(8)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;_.length>y;y++)n(p,b=_[y])&&!n(v,b)&&f(v,b,u(p,b));v.prototype=g,g.constructor=v,r(11)(a,"Number",v)}},129:function(e,t,r){var a=r(10),n=r(130).set;e.exports=function(e,t,r){var o,s=t.constructor;return s!==r&&"function"==typeof s&&(o=s.prototype)!==r.prototype&&a(o)&&n&&n(e,o),e}},130:function(e,t,r){var a=r(10),n=r(16),o=function(e,t){if(n(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{(a=r(59)(Function.call,r(57).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:a(e,r),e}}({},!1):void 0),check:o}},131:function(e,t,r){var a=r(22),n=r(25),o=r(5),s=r(132),i="["+s+"]",l=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),u=function(e,t,r){var n={},i=o(function(){return!!s[e]()||"​"!="​"[e]()}),l=n[e]=i?t(f):s[e];r&&(n[r]=l),a(a.P+a.F*i,"String",n)},f=u.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},132:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},133:function(e,t,r){"use strict";var a=r(106);r.n(a).a},134:function(e,t,r){(e.exports=r(21)(!1)).push([e.i,'@font-face{font-family:\'Quicksand\';font-style:normal;font-weight:400;font-display:swap;src:local("Quicksand Regular"),local("Quicksand-Regular"),url(https://fonts.gstatic.com/s/quicksand/v8/6xKtdSZaM9iE8KbpRA_hK1QN.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:\'Montserrat\';font-style:normal;font-weight:400;font-display:swap;src:local("Montserrat Regular"),local("Montserrat-Regular"),url(https://fonts.gstatic.com/s/montserrat/v12/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116}.default use[data-v-7263824a]{color:#7B1FA2;stroke:#7B1FA2}.chosen use[data-v-7263824a]{color:#FF9800;stroke:#FF9800}#leaderboard[data-v-7263824a]{font-family:"Quicksand","Verdana",sans-serif}.leaderboard-title[data-v-7263824a]{font-size:2em}.leaderboard-legend[data-v-7263824a]{font-weight:700;color:#301246;background-color:rgba(242,225,255,0.5)}.leader-board-message[data-v-7263824a]{color:#301246;font-size:1.4em}.leaderboard[data-v-7263824a]{font-size:1.2em;font-weight:700;color:#7B4B9D}.leaderboard-item[data-v-7263824a]:hover{background-color:rgba(242,225,255,0.5)}.curret-user[data-v-7263824a]{color:red}\n',""])},141:function(e,t,r){"use strict";r.r(t);r(55),r(89),r(128),r(93),r(39),r(40),r(104),r(36);var a=r(91),n=r(23),o=r(92);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i={name:"Leaderboard",components:{closeBtn:a.a},data:function(){return{title:"leaderboard",userName:null,leaderboard:[],userDataFromDB:[],noLeaderboardMessage:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){s(e,t,r[t])})}return e}({},Object(n.c)(["getDefaultUserName","getUserData","getMaxPossibleScore"])),mounted:function(){var e=this;this.$nextTick(function(){console.log("Leaderboard mounted"),e.getUserData.isAuthenticated?(console.log("Getting leaderboard data from db..."),e.getDataForLeaderboard()):(e.userName=e.getDefaultUserName,e.noLeaderboardMessage="Hi, ".concat(e.userName,",\n        log in to view the leaderboard."))})},methods:{getDataForLeaderboard:function(){var e=this;o.a.collection("users").orderBy("hiScore").get().then(function(t){t.forEach(function(t){var r={id:t.id,userName:t.data().name,hiScore:t.data().hiScore,resultsArray:t.data().resultsArray};e.userDataFromDB.push(r)})}).then(function(){var t=!0,r=!1,a=void 0;try{for(var n,o=e.userDataFromDB[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var s=n.value,i=s.resultsArray.split(",").map(Number),l=parseInt(i.reduce(function(e,t){return e+t})/i.length),c=Math.floor(l/e.getMaxPossibleScore*100),u={id:s.id,userName:s.userName,hiScore:parseInt(s.hiScore),averageScore:l,percentFromMax:c,gamesPlayed:i.length};e.leaderboard.push(u)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}e.leaderboard.reverse()}).catch(function(e){console.log("Error getting documents: ",e)})}}},l=(r(133),r(34)),c=Object(l.a)(i,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{id:"leaderboard",column:""}},[r("v-flex",[r("closeBtn")],1),e._v(" "),r("v-flex",{staticClass:"text-xs-center py-4"},[r("h1",{staticClass:"leaderboard-title text-capitalize"},[e._v("\n      "+e._s(e.title)+"\n    ")])]),e._v(" "),r("v-flex",{staticClass:"leaderboard-legend text-xs-center pl-1 py-2"},[r("v-layout",{attrs:{"align-center":""}},[r("v-flex",{attrs:{xs1:""}},[r("v-icon",{attrs:{color:"purple darken-2"}},[e._v("\n          import_export\n        ")])],1),e._v(" "),r("v-flex",{staticClass:"text-xs-left",attrs:{xs3:""}},[e._v("\n        Name\n      ")]),e._v(" "),r("v-flex",{attrs:{xs2:""}},[e._v("\n        HiScore\n      ")]),e._v(" "),r("v-flex",{attrs:{xs2:""}},[e._v("\n        Average\n      ")]),e._v(" "),r("v-flex",{attrs:{xs2:""}},[e._v("\n        % Max\n      ")]),e._v(" "),r("v-flex",{attrs:{xs2:""}},[e._v("\n        Games\n      ")])],1)],1),e._v(" "),e.noLeaderboardMessage?r("v-flex",{staticClass:"leader-board-message text-xs-center",attrs:{"py-4":""}},[e._v("\n    "+e._s(e.noLeaderboardMessage)+"\n  ")]):e._e(),e._v(" "),null===e.noLeaderboardMessage?r("v-flex",{staticClass:"leaderboard text-xs-center"},e._l(e.leaderboard,function(t,a){return r("v-layout",{key:a,staticClass:"leaderboard-item",class:{"orange--text":e.getUserData.name===t.userName},attrs:{"py-2":""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs1:""}},[e._v("\n        "+e._s(a+1)+"\n      ")]),e._v(" "),r("v-flex",{staticClass:"text-xs-left",attrs:{xs3:""}},[e._v("\n        "+e._s(t.userName)+"\n      ")]),e._v(" "),r("v-flex",{attrs:{xs2:""}},[e._v("\n        "+e._s(t.hiScore)+"\n      ")]),e._v(" "),r("v-flex",{attrs:{xs2:""}},[e._v("\n        "+e._s(t.averageScore)+"\n      ")]),e._v(" "),r("v-flex",{attrs:{xs2:""}},[e._v("\n        "+e._s(t.percentFromMax)+"\n      ")]),e._v(" "),r("v-flex",{attrs:{xs2:""}},[e._v("\n        "+e._s(t.gamesPlayed)+"\n      ")])],1)}),1):e._e()],1)},[],!1,null,"7263824a",null);t.default=c.exports},89:function(e,t,r){var a=r(37),n=r(14);r(90)("keys",function(){return function(e){return n(a(e))}})},90:function(e,t,r){var a=r(22),n=r(13),o=r(5);e.exports=function(e,t){var r=(n.Object||{})[e]||Object[e],s={};s[e]=t(r),a(a.S+a.F*o(function(){r(1)}),"Object",s)}},91:function(e,t,r){"use strict";var a={name:"CloseBtn"},n=r(34),o=Object(n.a)(a,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-flex",{staticClass:"text-xs-right"},[r("v-btn",{attrs:{small:"",icon:"",fab:"",dark:""},on:{click:function(t){return e.$router.go(-1)}}},[r("v-icon",{attrs:{size:"3em",color:"#79008f"}},[e._v("\n      close\n    ")])],1)],1)},[],!1,null,null,null);t.a=o.exports},92:function(e,t,r){"use strict";var a=r(15),n=r.n(a);r(95);n.a.firestore().settings({timestampsInSnapshots:!0}),t.a=n.a.firestore()},93:function(e,t,r){r(56)("split",2,function(e,t,a){"use strict";var n=r(94),o=a,s=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var i=void 0===/()??/.exec("")[1];a=function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!n(e))return o.call(r,e,t);var a,l,c,u,f,d=[],v=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,g=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,v+"g");for(i||(a=new RegExp("^"+h.source+"$(?!\\s)",v));(l=h.exec(r))&&!((c=l.index+l[0].length)>p&&(d.push(r.slice(p,l.index)),!i&&l.length>1&&l[0].replace(a,function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(l[f]=void 0)}),l.length>1&&l.index<r.length&&s.apply(d,l.slice(1)),u=l[0].length,p=c,d.length>=g));)h.lastIndex===l.index&&h.lastIndex++;return p===r.length?!u&&h.test("")||d.push(""):d.push(r.slice(p)),d.length>g?d.slice(0,g):d}}else"0".split(void 0,0).length&&(a=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(r,n){var o=e(this),s=null==r?void 0:r[t];return void 0!==s?s.call(r,o,n):a.call(String(o),r,n)},a]})},94:function(e,t,r){var a=r(10),n=r(38),o=r(3)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==n(e))}}}]);
//# sourceMappingURL=leaderboard.593da8ddc621534eb8be.js.map