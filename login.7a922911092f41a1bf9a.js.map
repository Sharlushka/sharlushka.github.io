{"version":3,"sources":["webpack:///./src/components/ErrorMessage.vue?438b","webpack:///./src/firebase/firebaseInit.js","webpack:///./src/components/ErrorMessage.vue?e199","webpack:///./src/components/ErrorMessage.vue?12fb","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/views/Login.vue?5772","webpack:///./src/components/ErrorMessage.vue?600c","webpack:///src/components/ErrorMessage.vue","webpack:///./src/components/ErrorMessage.vue?6682","webpack:///./src/assets/icons/baseline-close-24px.svg","webpack:///./src/components/ErrorMessage.vue","webpack:///./src/views/Login.vue?e475","webpack:///./src/views/Login.vue?e8a6","webpack:///./src/views/Login.vue?1261","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?4fab","webpack:///./src/views/Login.vue"],"names":["content","__webpack_require__","module","i","locals","exports","add","default","firebase_app__WEBPACK_IMPORTED_MODULE_0__","firebase_app__WEBPACK_IMPORTED_MODULE_0___default","n","firebase","firestore","settings","timestampsInSnapshots","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ErrorMessage_vue_vue_type_style_index_0_id_1e4029f1_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","push","dP","f","FProto","Function","prototype","nameRE","configurable","get","this","match","e","components_ErrorMessagevue_type_script_lang_js_","name","components","closeIcon","functional","[object Object]","_h","_vm","_c","_v","data","children","class","classNames","staticClass","style","staticStyle","attrs","rest","Object","assign","xmlns","width","height","viewBox","concat","d","fill","computed","_objectSpread","vuex_esm","methods","closeErrorMessage","$store","dispatch","component","componentNormalizer","$createElement","_self","align-center","xs10","d-flex","_s","error","message","xs2","justify-center","flat","icon","on","click","_e","__webpack_exports__","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","views_Loginvue_type_script_lang_js_","errorMessageDialog","ErrorMessage","loggingIn","signingOut","newUserBtnText","pageTitle","valid","email","emailRules","v","test","password","showPass","passwordRules","length","usersCollRef","mounted","$nextTick","console","log","login","_this","toggleButtonLoadingState","index_cjs_default","a","auth","signInWithEmailAndPassword","then","response","getUserDataFromDB","user","uid","$router","catch","err","signOut","_this2","commit","localStorage","clear","_this3","firebaseInit","collection","where","querySnapshot","forEach","doc","setItem","hiScore","resultsArray","schoolResultsArray","btn","button","_typeof","clearForm","$refs","form","reset","id","fluid","py-2","px-4","column","xs9","py-4","ref","lazy-validation","model","value","callback","$$v","expression","rules","label","type","autocomplete","required","color","append-icon","hint","click:append","$event","row","wrap","xs5","loading","disabled","getUserAuthState","outline","ripple","preventDefault","xs12","to"],"mappings":"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","file":"login.7a922911092f41a1bf9a.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorMessage.vue?vue&type=style&index=0&id=1e4029f1&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2d00a816\", content, true, {});","import firebase from 'firebase/app'\nimport 'firebase/firestore'\n// import firebaseConfig from './firebaseConfig'\n/*\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig)\n} */\nfirebase.firestore().settings({timestampsInSnapshots: true})\nexport default firebase.firestore()\n","import mod from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorMessage.vue?vue&type=style&index=0&id=1e4029f1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorMessage.vue?vue&type=style&index=0&id=1e4029f1&lang=scss&scoped=true&\"","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".error-message[data-v-1e4029f1]{position:fixed;top:3.5em;margin:0em 1em 0em 1em;right:0;left:0;border:0.066em solid #ffbdbd;color:#ff5050;padding-left:.5em;border-radius:.2em;font-size:1em}.error-close-icon[data-v-1e4029f1]{fill:#ffbdbd}\\n\", \"\"]);\n\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"25b5cef2\", content, true, {});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.error)?_c('v-layout',{staticClass:\"error-message\",attrs:{\"align-center\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-left\",attrs:{\"xs10\":\"\",\"d-flex\":\"\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.error.message)+\"\\n  \")]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs2\":\"\",\"d-flex\":\"\",\"justify-center\":\"\"}},[_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":\"\"},on:{\"click\":_vm.closeErrorMessage}},[_c('closeIcon',{staticClass:\"error-close-icon\"})],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- Error message -->\r\n  <v-layout\r\n    v-if=\"error\"\r\n    class=\"error-message\"\r\n    align-center\r\n  >\r\n    <v-flex\r\n      xs10\r\n      d-flex\r\n      class=\"text-xs-left\"\r\n    >\r\n      {{ error.message }}\r\n    </v-flex>\r\n    <v-flex\r\n      xs2\r\n      d-flex\r\n      justify-center\r\n    >\r\n      <v-btn\r\n        flat\r\n        icon\r\n        @click=\"closeErrorMessage\"\r\n      >\r\n        <closeIcon\r\n          class=\"error-close-icon\"\r\n        />\r\n      </v-btn>\r\n    </v-flex>\r\n  </v-layout>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport closeIcon from '../assets/icons/baseline-close-24px.svg'\r\n\r\nexport default {\r\n  name: `ErrorMessage`,\r\n  components: {\r\n    closeIcon\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      `error`\r\n    ])\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      `setErrorMessage`\r\n    ]),\r\n    closeErrorMessage() {\r\n      // just close it\r\n      this.$store.dispatch(`setErrorMessage`, false)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/scss/vars/colors.scss';\r\n\r\n.error-message {\r\n  position: fixed;\r\n  top: 3.5em;\r\n  margin: 0em 1em 0em 1em;\r\n  right: 0;\r\n  left: 0;\r\n  border: .066em solid $color-error-message-red;\r\n  color: $color-error-message-red-text;\r\n  padding-left: .5em;\r\n  border-radius: .2em;\r\n  font-size: 1em;\r\n}\r\n.error-close-icon {\r\n  fill: $color-error-message-red;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorMessage.vue?vue&type=script&lang=js&\"","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"33\",\"height\":\"33\",\"viewBox\":\"0 0 24 24\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"}}),_c('path',{attrs:{\"d\":\"M0 0h24v24H0z\",\"fill\":\"none\"}})])\n          )\n        }\n      }\n    ","import { render, staticRenderFns } from \"./ErrorMessage.vue?vue&type=template&id=1e4029f1&scoped=true&\"\nimport script from \"./ErrorMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./ErrorMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ErrorMessage.vue?vue&type=style&index=0&id=1e4029f1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e4029f1\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"@font-face{font-family:'Quicksand';font-style:normal;font-weight:400;font-display:swap;src:local(\\\"Quicksand Regular\\\"),local(\\\"Quicksand-Regular\\\"),url(https://fonts.gstatic.com/s/quicksand/v8/6xKtdSZaM9iE8KbpRA_hK1QN.woff2) format(\\\"woff2\\\");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Montserrat';font-style:normal;font-weight:400;font-display:swap;src:local(\\\"Montserrat Regular\\\"),local(\\\"Montserrat-Regular\\\"),url(https://fonts.gstatic.com/s/montserrat/v12/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format(\\\"woff2\\\");unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116}.default use{color:#7B1FA2;stroke:#7B1FA2}.chosen use{color:#FF9800;stroke:#FF9800}.highlighted{color:#FF9800;fill:#FF9800}.default-icon-color{color:#7B1FA2;fill:#7B1FA2}.login-form,.page-title,.info-text,.button{font-family:\\\"Quicksand\\\",\\\"Verdana\\\",sans-serif}.info-text{color:#7B1FA2;font-size:1.4em;font-weight:700}\\n\", \"\"]);\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"text-xs-center\",attrs:{\"id\":\"login\",\"fluid\":\"\",\"py-2\":\"\",\"px-4\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('errorMessageDialog'),_vm._v(\" \"),_c('v-flex',{staticClass:\"page-title py-4\",attrs:{\"d-flex\":\"\"}},[_c('h1',[_vm._v(_vm._s(_vm.pageTitle))])]),_vm._v(\" \"),_c('v-layout',{staticClass:\"login-form py-4\",attrs:{\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs9\":\"\",\"d-flex\":\"\",\"align-center\":\"\",\"py-4\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"label\":\"E-mail\",\"type\":'email',\"autocomplete\":\"off\",\"required\":\"\",\"color\":\"purple accent-4\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"rules\":_vm.passwordRules,\"append-icon\":_vm.showPass ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showPass ? 'text' : 'password',\"label\":\"Password\",\"autocomplete\":\"off\",\"required\":\"\",\"color\":\"purple accent-4\",\"hint\":\"At least 6 characters\"},on:{\"click:append\":function($event){_vm.showPass = !_vm.showPass}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1)],1),_vm._v(\" \"),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"d-flex\":\"\",\"xs5\":\"\"}},[_c('v-btn',{staticClass:\"button white--text\",attrs:{\"type\":'submit',\"loading\":_vm.loggingIn,\"disabled\":_vm.getUserAuthState,\"outline\":\"\",\"ripple\":\"\",\"color\":\"orange\"},on:{\"click\":function($event){$event.preventDefault();return _vm.login($event)}}},[_vm._v(\"\\n          login\\n        \")])],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"d-flex\":\"\",\"xs5\":\"\"}},[_c('v-btn',{staticClass:\"button white--text\",attrs:{\"disabled\":_vm.valid,\"outline\":\"\",\"ripple\":\"\",\"color\":\"purple darken-1\"},on:{\"click\":_vm.clearForm}},[_vm._v(\"\\n          clear\\n        \")])],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"info-text\",attrs:{\"xs12\":\"\",\"py-4\":\"\",\"align-center\":\"\"}},[_c('v-divider')],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"d-flex\":\"\",\"xs5\":\"\"}},[_c('v-btn',{staticClass:\"button white--text\",attrs:{\"loading\":_vm.signingOut,\"disabled\":!_vm.getUserAuthState,\"outline\":\"\",\"ripple\":\"\",\"color\":\"purple darken-1\"},on:{\"click\":_vm.signOut}},[_vm._v(\"\\n          log out\\n        \")])],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"d-flex\":\"\",\"xs5\":\"\"}},[_c('v-btn',{staticClass:\"button white--text\",attrs:{\"to\":\"/register\",\"outline\":\"\",\"ripple\":\"\",\"color\":\"purple darken-1\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.newUserBtnText)+\"\\n        \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container\n    id=\"login\"\n    fluid\n    py-2\n    px-4\n    class=\"text-xs-center\"\n  >\n    <v-layout column>\n      <!-- Error message if any -->\n      <errorMessageDialog />\n      <!-- Page title -->\n      <v-flex\n        d-flex\n        class=\"page-title py-4\"\n      >\n        <h1>{{ pageTitle }}</h1>\n      </v-flex>\n      <!-- Input form -->\n      <v-layout\n        justify-center\n        class=\"login-form py-4\"\n      >\n        <v-flex\n          xs9\n          d-flex\n          align-center\n          py-4\n        >\n          <v-form\n            ref=\"form\"\n            v-model=\"valid\"\n            lazy-validation\n          >\n            <v-text-field\n              v-model=\"email\"\n              :rules=\"emailRules\"\n              label=\"E-mail\"\n              :type=\"'email'\"\n              autocomplete=\"off\"\n              required\n              color=\"purple accent-4\"\n            />\n            <v-text-field\n              v-model=\"password\"\n              :rules=\"passwordRules\"\n              :append-icon=\"showPass ? 'mdi-eye' : 'mdi-eye-off'\"\n              :type=\"showPass ? 'text' : 'password'\"\n              label=\"Password\"\n              autocomplete=\"off\"\n              required\n              color=\"purple accent-4\"\n              hint=\"At least 6 characters\"\n              @click:append=\"showPass = !showPass\"\n            />\n          </v-form>\n        </v-flex>\n      </v-layout>\n      <!-- Buttons layout -->\n      <v-layout\n        row\n        wrap\n        justify-center\n      >\n        <v-flex\n          d-flex\n          xs5\n        >\n          <v-btn\n            :type=\"'submit'\"\n            :loading=\"loggingIn\"\n            :disabled=\"getUserAuthState\"\n            outline\n            ripple\n            class=\"button white--text\"\n            color=\"orange\"\n            @click.prevent=\"login\"\n          >\n            login\n          </v-btn>\n        </v-flex>\n\n        <v-flex\n          d-flex\n          xs5\n        >\n          <v-btn\n            :disabled=\"valid\"\n            outline\n            ripple\n            class=\"button white--text\"\n            color=\"purple darken-1\"\n            @click=\"clearForm\"\n          >\n            clear\n          </v-btn>\n        </v-flex>\n\n        <v-flex\n          xs12\n          py-4\n          align-center\n          class=\"info-text\"\n        >\n          <v-divider />\n        </v-flex>\n\n        <v-flex\n          d-flex\n          xs5\n        >\n          <v-btn\n            :loading=\"signingOut\"\n            :disabled=\"!getUserAuthState\"\n            outline\n            ripple\n            class=\"button white--text\"\n            color=\"purple darken-1\"\n            @click=\"signOut\"\n          >\n            log out\n          </v-btn>\n        </v-flex>\n\n        <v-flex\n          d-flex\n          xs5\n        >\n          <v-btn\n            to=\"/register\"\n            outline\n            ripple\n            class=\"button white--text\"\n            color=\"purple darken-1\"\n          >\n            {{ newUserBtnText }}\n          </v-btn>\n        </v-flex>\n      </v-layout>\n      <!-- End of buttons layout -->\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport errorMessageDialog from '../components/ErrorMessage.vue'\nimport { mapGetters } from 'vuex'\nimport firebase from 'firebase/app'\nimport db from '../firebase/firebaseInit'\nimport 'firebase/auth'\n\nexport default {\n  name: `Login`,\n  components: {\n    errorMessageDialog\n  },\n  data: () => ({\n    loggingIn: false,\n    signingOut: false,\n    newUserBtnText: `Register`,\n    pageTitle: `Log In`,\n    valid: true,\n    email: ``,\n    emailRules: [\n      (v) => !!v || `E-mail is required`,\n      (v) => /.+@.+/.test(v) || `E-mail must be valid`\n    ],\n    password: ``,\n    showPass: false,\n    passwordRules: [\n      (v) => !!v || `Password is required`,\n      (v) => v && (v.length >= 6 && v.length <= 12) || `Password must be greater than 6 and less than 12.`\n    ],\n    usersCollRef: `users`\n  }),\n  computed: {\n    ...mapGetters([\n      `getUserAuthState`\n    ])\n  },\n  mounted() {\n    this.$nextTick(() => {\n      console.log(`Login page mounted.`)\n    })\n  },\n  methods: {\n    login() {\n      console.log(`Signing user in.`)\n      if (this.email && this.password) { // need some proper validation\n        this.toggleButtonLoadingState(`login`)\n        firebase.auth()\n          .signInWithEmailAndPassword(this.email, this.password)\n          .then(response => {\n            this.getUserDataFromDB(response.user.uid)\n          }).then(() => {\n            this.toggleButtonLoadingState(`login`)\n            this.$router.push(`/game`)\n          }).catch(err => {\n            this.$store.dispatch(`setErrorMessage`, err)\n            this.toggleButtonLoadingState(`login`)\n            return false\n          })\n        return true\n      }\n    },\n    signOut() {\n      console.log(`Signing user out.`)\n      this.toggleButtonLoadingState(`signout`)\n      firebase.auth().signOut().then(() => {\n        this.$store.commit(`setUserIsLoggedIn`, false)\n        localStorage.clear()\n        this.toggleButtonLoadingState(`signout`)\n        // this.$router.push(`/`)\n      }).catch((err) => {\n        this.$store.dispatch(`setErrorMessage`, err)\n        this.toggleButtonLoadingState(`signout`)\n      })\n    },\n    getUserDataFromDB(uid) {\n      db.collection(this.usersCollRef).where(`uid`, `==`, uid)\n        .get()\n        .then(querySnapshot => {\n          querySnapshot.forEach(doc => {\n            if (doc.data().uid === uid) {\n              // save to local storage\n              localStorage.setItem(`userName`, doc.data().name)\n              localStorage.setItem(`userUid`, doc.data().uid)\n              localStorage.setItem(`highestScore`, doc.data().hiScore)\n              localStorage.setItem(`lastScoresArray`, doc.data().resultsArray)\n              localStorage.setItem(`schoolScores`, doc.data().schoolResultsArray)\n            }\n          })\n        })\n        .catch(err => {\n          this.$store.dispatch(`setErrorMessage`, err)\n          console.log(`Error getting documents: `, err)\n        })\n    },\n    toggleButtonLoadingState(btn) {\n      // console.log(`Button to toggle ${btn}`)\n      if (btn === `login`) {\n        this.loggingIn = !this.loggingIn\n        return true\n      } else if (btn === `signout`) {\n        this.signingOut = !this.signingOut\n        return true\n      } else {\n        console.log(`Nothing to toggle, button is ${typeof button}`)\n        return false\n      }\n    },\n    clearForm() {\n      this.$refs.form.reset()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '../assets/scss/index.scss';\n\n.login-form, .page-title, .info-text, .button {\n  font-family: $text-font;\n}\n.info-text {\n  color: $color-primary-0;\n  font-size: 1.4em;\n  font-weight: 700;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=4b724e1a&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}