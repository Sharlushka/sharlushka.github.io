(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"/UOZ":function(e,a,t){"use strict";var r=t("NJTK");t.n(r).a},NJTK:function(e,a,t){var r=t("wQVP");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t("SZ7m").default)("37a27d76",r,!0,{})},aVAT:function(e,a,t){"use strict";t.r(a);t("yt8O"),t("RW0V"),t("xfY5"),t("KKXr"),t("rE2o"),t("ioFf"),t("f3/d"),t("rGqo");var r=t("nPhw"),o=t("L2JU"),n=t("Hfx9");function s(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var l={name:"Leaderboard",components:{listIcon:r.a},data:function(){return{title:"leaderboard",userName:null,leaderboard:[],userDataFromDB:[],noLeaderboardMessage:null,leaderboardLoading:!1}},computed:function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(a){s(e,a,t[a])})}return e}({},Object(o.c)(["getDefaultUserName","getUserData","getMaxPossibleScore"])),mounted:function(){var e=this;this.$nextTick(function(){console.log("Leaderboard mounted"),e.getUserData.isAuthenticated?(console.log("Getting leaderboard data from db..."),e.leaderboardLoading=!0,e.getDataForLeaderboard(),e.userName=localStorage.getItem("userName")):(e.userName=e.getDefaultUserName,e.noLeaderboardMessage="Hi, ".concat(e.userName,",\n        log in to view the leaderboard."))})},methods:{getDataForLeaderboard:function(){var e=this;n.a.collection("users").orderBy("hiScore").get().then(function(a){a.forEach(function(a){var t={id:a.id,userName:a.data().name,hiScore:a.data().hiScore,resultsArray:a.data().resultsArray};e.userDataFromDB.push(t)})}).then(function(){var a=!0,t=!1,r=void 0;try{for(var o,n=e.userDataFromDB[Symbol.iterator]();!(a=(o=n.next()).done);a=!0){var s=o.value,l=s.resultsArray.split(",").map(Number),d=parseInt(l.reduce(function(e,a){return e+a})/l.length),c=Math.floor(d/e.getMaxPossibleScore*100),i={id:s.id,userName:s.userName,hiScore:parseInt(s.hiScore),averageScore:d,percentFromMax:c,gamesPlayed:l.length};e.leaderboard.push(i)}}catch(e){t=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(t)throw r}}e.leaderboard.reverse(),e.leaderboardLoading=!1}).catch(function(e){console.log("Error getting documents: ",e)})}}},d=(t("/UOZ"),t("KHd+")),c=Object(d.a)(l,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-layout",{attrs:{id:"leaderboard",column:""}},[t("v-flex",{staticClass:"text-xs-center",attrs:{xs1:"","d-flex":"","align-center":"","py-2":""}},[t("h1",{staticClass:"leaderboard-title text-capitalize"},[e._v("\n      "+e._s(e.title)+"\n    ")])]),e._v(" "),t("v-flex",{staticClass:"leaderboard-legend text-xs-center pl-1",attrs:{xs1:"","d-flex":""}},[t("v-layout",{attrs:{xs1:"","align-center":""}},[t("listIcon",{staticClass:"default-icon-color"}),e._v(" "),t("v-flex",{staticClass:"text-xs-left",attrs:{xs3:""}},[e._v("\n        Name\n      ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n        HiScore\n      ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n        Average\n      ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n        % Max\n      ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n        Games\n      ")])],1)],1),e._v(" "),e.noLeaderboardMessage?t("v-flex",{staticClass:"leader-board-message text-xs-center",attrs:{"d-flex":"","align-center":""}},[e._v("\n    "+e._s(e.noLeaderboardMessage)+"\n  ")]):e._e(),e._v(" "),null===e.noLeaderboardMessage?t("v-flex",{staticClass:"leaderboard text-xs-center"},e._l(e.leaderboard,function(a,r){return t("v-layout",{key:r,staticClass:"leaderboard-item",class:{"orange--text":a.userName===e.userName},attrs:{"py-2":""}},[t("v-flex",{staticClass:"text-xs-center",attrs:{xs1:""}},[e._v("\n        "+e._s(r+1)+"\n      ")]),e._v(" "),t("v-flex",{staticClass:"text-xs-left",attrs:{xs3:""}},[e._v("\n        "+e._s(a.userName)+"\n      ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n        "+e._s(a.hiScore)+"\n      ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n        "+e._s(a.averageScore)+"\n      ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n        "+e._s(a.percentFromMax)+"\n      ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n        "+e._s(a.gamesPlayed)+"\n      ")])],1)}),1):e._e(),e._v(" "),t("v-flex",{attrs:{"d-flex":""}},[e.leaderboardLoading?t("v-progress-circular",{attrs:{indeterminate:"",color:"purple darken-2"}}):e._e()],1)],1)},[],!1,null,"f297a176",null);a.default=c.exports},wQVP:function(e,a,t){(e.exports=t("JPst")(!1)).push([e.i,'@font-face{font-family:\'Quicksand\';font-style:normal;font-weight:400;font-display:swap;src:local("Quicksand Regular"),local("Quicksand-Regular"),url(https://fonts.gstatic.com/s/quicksand/v8/6xKtdSZaM9iE8KbpRA_hK1QN.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:\'Montserrat\';font-style:normal;font-weight:400;font-display:swap;src:local("Montserrat Regular"),local("Montserrat-Regular"),url(https://fonts.gstatic.com/s/montserrat/v12/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116}*[data-v-f297a176]{font-family:"Quicksand","Verdana",sans-serif}.default use[data-v-f297a176]{color:#7B1FA2;stroke:#7B1FA2}.chosen use[data-v-f297a176]{color:#FF9800;stroke:#FF9800}.highlighted[data-v-f297a176]{color:#FF9800;fill:green}.default-icon-color[data-v-f297a176]{color:#7B1FA2;fill:#7B1FA2}.button-icon-margin[data-v-f297a176]{margin:.3em}.button[data-v-f297a176]{border-radius:.3em;line-height:2em}.input-icon[data-v-f297a176]{color:#e4c2ff}#leaderboard[data-v-f297a176]{font-family:"Quicksand","Verdana",sans-serif}.leaderboard-title[data-v-f297a176]{font-size:2em}.leaderboard-legend[data-v-f297a176]{font-weight:700;color:#301246;background-color:rgba(242,225,255,0.5)}.leader-board-message[data-v-f297a176]{color:#301246;font-size:1.4em}.leaderboard[data-v-f297a176]{font-size:1.2em;font-weight:700;color:#7B4B9D}.leaderboard-item[data-v-f297a176]:hover{background-color:rgba(242,225,255,0.5)}.v-progress-circular[data-v-f297a176]{margin:1rem}\n',""])}}]);
//# sourceMappingURL=leaderboard.bfe13d6f67f3818e76ba.js.map