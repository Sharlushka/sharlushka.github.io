{"version":3,"sources":["webpack:///./src/views/EndGame.vue?09a6","webpack:///./src/views/EndGame.vue?1e46","webpack:///./src/views/EndGame.vue?aa2e","webpack:///./src/views/EndGame.vue?da23","webpack:///src/views/EndGame.vue","webpack:///./src/views/EndGame.vue?532a","webpack:///./src/views/EndGame.vue","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./src/components/CloseBtn.vue?c396","webpack:///./src/components/CloseBtn.vue?7bb1","webpack:///src/components/CloseBtn.vue","webpack:///./src/components/CloseBtn.vue","webpack:///./src/firebase/firebaseInit.js","webpack:///./node_modules/core-js/modules/es6.regexp.split.js","webpack:///./node_modules/core-js/modules/_fix-re-wks.js","webpack:///./node_modules/core-js/modules/_is-regexp.js"],"names":["content","__webpack_require__","module","i","locals","exports","add","default","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_EndGame_vue_vue_type_style_index_0_id_009e48b3_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","n","push","views_EndGamevue_type_script_lang_js_","components","closeBtn","CloseBtn","data","message","messageText","graduationMessage","schoolScoreMessage","userName","highestScore","networkProblemDialog","tryAgainBtnLoading","offlineSaveUserMessage","hiscoreGreeting","exclamation","lastScores","schoolScores","dbUsersCollRef","computed","_objectSpread","Object","vuex_esm","mounted","_this","this","$nextTick","console","log","getUserData","isAuthenticated","localStorage","getItem","getDefaultUserName","getCurrentGameState","gameInProgress","getTotalScore","setItem","addScoreToDatabase","store","commit","methods","restartGame","$router","split","concat","schoolCompleted","getSchoolScore","isOnline","syncScoreWithFirestore","_this2","uid","firebaseInit","collection","where","get","then","querySnapshot","docToUpdateId","forEach","doc","id","docRef","resultsArrayToUpdate","highestScoreToUpdate","schoolScoresToUpdate","updateDocRef","update","resultsArray","schoolResultsArray","hiScore","catch","error","component","componentNormalizer","_vm","_h","$createElement","_c","_self","attrs","fill-height","column","_v","staticClass","_s","_e","row","align-center","justify-space-around","d-flex","xs5","lg2","ripple","outline","color","on","click","medium","to","width","model","value","callback","$$v","expression","loading","$event","__webpack_exports__","toObject","$keys","it","$export","core","fails","KEY","exec","fn","exp","S","F","components_CloseBtnvue_type_script_lang_js_","name","small","icon","fab","dark","go","size","firebase_app__WEBPACK_IMPORTED_MODULE_0__","firebase_app__WEBPACK_IMPORTED_MODULE_0___default","firebase","firestore","settings","timestampsInSnapshots","defined","SPLIT","$split","isRegExp","_split","$push","NPCG","undefined","separator","limit","string","String","call","separator2","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","splitLimit","separatorCopy","RegExp","source","index","slice","replace","arguments","apply","test","O","hide","redefine","wks","length","SYMBOL","fns","strfn","rxfn","prototype","arg","isObject","cof","MATCH"],"mappings":"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","file":"endgame.bdd592af163550cb71f9.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EndGame.vue?vue&type=style&index=0&id=009e48b3&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"168976bd\", content, true, {});","import mod from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EndGame.vue?vue&type=style&index=0&id=009e48b3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EndGame.vue?vue&type=style&index=0&id=009e48b3&lang=scss&scoped=true&\"","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"@font-face{font-family:'Quicksand';font-style:normal;font-weight:400;font-display:swap;src:local(\\\"Quicksand Regular\\\"),local(\\\"Quicksand-Regular\\\"),url(https://fonts.gstatic.com/s/quicksand/v8/6xKtdSZaM9iE8KbpRA_hK1QN.woff2) format(\\\"woff2\\\");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Montserrat';font-style:normal;font-weight:400;font-display:swap;src:local(\\\"Montserrat Regular\\\"),local(\\\"Montserrat-Regular\\\"),url(https://fonts.gstatic.com/s/montserrat/v12/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format(\\\"woff2\\\");unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116}.default use[data-v-009e48b3]{color:#7B1FA2;stroke:#7B1FA2}.chosen use[data-v-009e48b3]{color:#FF9800;stroke:#FF9800}.user-name-game-end[data-v-009e48b3],.message-school[data-v-009e48b3],.message-game[data-v-009e48b3],.offline-save-message[data-v-009e48b3]{font-family:\\\"Quicksand\\\",\\\"Verdana\\\",sans-serif}.user-name-game-end span[data-v-009e48b3]{color:#FF9800}.message-school[data-v-009e48b3]{line-height:1.5}\\n\", \"\"]);\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"id\":\"endGame\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('closeBtn'),_vm._v(\" \"),_c('v-flex',{staticClass:\"user-name-game-end text-xs-center\"},[_c('h1',[_vm._v(\"\\n        \"+_vm._s(_vm.message)),_c('br'),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.userName)+_vm._s(_vm.exclamation))])])]),_vm._v(\" \"),(!_vm.getCurrentGameState.schoolCompleted)?_c('v-flex',{staticClass:\"message-school text-xs-center\"},[_c('h3',[_vm._v(_vm._s(_vm.graduationMessage))]),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.schoolScoreMessage)+\" \"+_vm._s(_vm.getTotalScore))])]):_vm._e(),_vm._v(\" \"),(_vm.getCurrentGameState.schoolCompleted)?_c('v-flex',{staticClass:\"message-game text-xs-center\"},[_c('h2',[_vm._v(_vm._s(_vm.messageText)+\" \"+_vm._s(_vm.getTotalScore))])]):_vm._e(),_vm._v(\" \"),_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\",\"justify-space-around\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"d-flex\":\"\",\"xs5\":\"\",\"lg2\":\"\"}},[_c('v-btn',{attrs:{\"ripple\":\"\",\"outline\":\"\",\"color\":\"orange\"},on:{\"click\":_vm.restartGame}},[_c('v-icon',{attrs:{\"medium\":\"\",\"color\":\"orange\"}},[_vm._v(\"\\n            replay\\n          \")]),_vm._v(\"\\n          restart\\n        \")],1)],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"d-flex\":\"\",\"xs5\":\"\",\"lg2\":\"\"}},[_c('v-btn',{attrs:{\"ripple\":\"\",\"outline\":\"\",\"color\":\"purple darken-1\",\"to\":'/userstats'}},[_c('v-icon',{attrs:{\"medium\":\"\",\"color\":\"purple darken-1\"}},[_vm._v(\"\\n            trending_up\\n          \")]),_vm._v(\"\\n          stats\\n        \")],1)],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"width\":\"20em\"},model:{value:(_vm.networkProblemDialog),callback:function ($$v) {_vm.networkProblemDialog=$$v},expression:\"networkProblemDialog\"}},[_c('v-card',[_c('v-card-text',{staticClass:\"text-xs-center offline-save-message\"},[_vm._v(\"\\n        \"+_vm._s(_vm.offlineSaveUserMessage)+\"\\n      \")]),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"orange\",\"outline\":\"\",\"loading\":_vm.tryAgainBtnLoading},on:{\"click\":_vm.syncScoreWithFirestore}},[_c('v-icon',{attrs:{\"color\":\"orange\"}},[_vm._v(\"\\n            done\\n          \")]),_vm._v(\"\\n          Try again\\n        \")],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"outline\":\"\",\"ripple\":\"\",\"color\":\"purple darken-1\"},on:{\"click\":function($event){_vm.networkProblemDialog = false}}},[_c('v-icon',{attrs:{\"color\":\"purple darken-1\"}},[_vm._v(\"\\n            cancel\\n          \")]),_vm._v(\"\\n          Cancel\\n        \")],1),_vm._v(\" \"),_c('v-spacer')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container\n    id=\"endGame\"\n    fill-height\n  >\n    <!-- Close button -->\n    <v-layout\n      column\n    >\n      <closeBtn />\n      <!-- Messages -->\n      <v-flex\n        class=\"user-name-game-end text-xs-center\"\n      >\n        <h1>\n          {{ message }}<br>\n          <span>{{ userName }}{{ exclamation }}</span>\n        </h1>\n      </v-flex>\n      <!-- School message -->\n      <v-flex\n        v-if=\"!getCurrentGameState.schoolCompleted\"\n        class=\"message-school text-xs-center\"\n      >\n        <h3>{{ graduationMessage }}</h3>\n        <h2>{{ schoolScoreMessage }} {{ getTotalScore }}</h2>\n      </v-flex>\n      <!-- Game message -->\n      <v-flex\n        v-if=\"getCurrentGameState.schoolCompleted\"\n        class=\"message-game text-xs-center\"\n      >\n        <h2>{{ messageText }} {{ getTotalScore }}</h2>\n      </v-flex>\n      <!-- Buttons -->\n      <v-layout\n        row\n        align-center\n        justify-space-around\n      >\n        <v-flex\n          d-flex\n          xs5\n          lg2\n          class=\"text-xs-center\"\n        >\n          <v-btn\n            ripple\n            outline\n            color=\"orange\"\n            @click=\"restartGame\"\n          >\n            <v-icon\n              medium\n              color=\"orange\"\n            >\n              replay\n            </v-icon>\n            restart\n          </v-btn>\n        </v-flex>\n        <v-flex\n          d-flex\n          xs5\n          lg2\n          class=\"text-xs-center\"\n        >\n          <v-btn\n            ripple\n            outline\n            color=\"purple darken-1\"\n            :to=\"'/userstats'\"\n          >\n            <v-icon\n              medium\n              color=\"purple darken-1\"\n            >\n              trending_up\n            </v-icon>\n            stats\n          </v-btn>\n        </v-flex>\n      </v-layout>\n    </v-layout>\n    <!-- Offline save dialog -->\n    <v-dialog\n      v-model=\"networkProblemDialog\"\n      width=\"20em\"\n    >\n      <v-card>\n        <v-card-text class=\"text-xs-center offline-save-message\">\n          {{ offlineSaveUserMessage }}\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"orange\"\n            outline\n            :loading=\"tryAgainBtnLoading\"\n            @click=\"syncScoreWithFirestore\"\n          >\n            <v-icon\n              color=\"orange\"\n            >\n              done\n            </v-icon>\n            Try again\n          </v-btn>\n          <v-btn\n            outline\n            ripple\n            color=\"purple darken-1\"\n            @click=\"networkProblemDialog = false\"\n          >\n            <v-icon\n              color=\"purple darken-1\"\n            >\n              cancel\n            </v-icon>\n            Cancel\n          </v-btn>\n          <v-spacer />\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport {mapGetters} from 'vuex'\nimport store from '../store/store'\nimport closeBtn from '../components/CloseBtn.vue'\nimport db from '../firebase/firebaseInit'\n\nexport default {\n  components: {\n    closeBtn\n  },\n  data() {\n    return {\n      message: `Game over,`,\n      messageText: `Your score is`,\n      graduationMessage: `You can't even finish the school.`,\n      schoolScoreMessage: `Your score is`,\n      userName: ``,\n      highestScore: null,\n      networkProblemDialog: false,\n      tryAgainBtnLoading: false,\n      offlineSaveUserMessage: `You are offline, connect to the internet to save results.`,\n      hiscoreGreeting: `Your highest score is`,\n      exclamation: `!`, // some over-engeneering\n      lastScores: ``,\n      schoolScores: ``,\n      dbUsersCollRef: `users`\n    }\n  },\n  computed: {\n    ...mapGetters([\n      `getTotalScore`,\n      `getSchoolScore`,\n      `getCurrentGameState`,\n      `getDefaultUserName`,\n      `getUserData`\n    ])\n  },\n  mounted() {\n    this.$nextTick(() => {\n      console.log(`Game over.`)\n      // check user auth status\n      if (this.getUserData.isAuthenticated) {\n        this.userName = localStorage.getItem(`userName`)\n      } else {\n        this.userName = this.getDefaultUserName\n      }\n      if (this.getCurrentGameState.gameInProgress) {\n        // collect them when game finished\n        // i.e. user played the game till the end\n        // and not actually reloading the page\n        if (localStorage.getItem(`highestScore`) === ``) {\n          // check if user ever played a game\n          console.log(`No local storage score array exist yet, creating one`)\n          this.highestScore = this.getTotalScore // first run\n          localStorage.setItem(`highestScore`, this.getTotalScore)\n          // and\n          this.addScoreToDatabase()\n        } else {\n          this.lastScores = localStorage.getItem(`lastScoresArray`)\n          this.schoolScores = localStorage.getItem(`schoolScores`)\n          this.highestScore = localStorage.getItem(`highestScore`)\n          // just add it already\n          this.addScoreToDatabase()\n        }\n        // set to default state so repeating visits\n        // to this page won't fill our array with zeroes\n        // store.state.gameInProgress = false // mutation?\n        store.commit(`stopGame`)\n        // console.log(`Save current score state to db`)\n      } else {\n        console.log(`Nothing to record, play the game.`)\n      }\n    })\n  },\n  methods: {\n    restartGame() {\n      console.log(`Restarting game.`)\n      store.commit(`resetState`)\n      this.$router.push(`/game`)\n    },\n    // add anonymous score to local storage\n    addScoreToDatabase() {\n      console.log(`Adding score.`)\n      // one function?\n      if (this.lastScores === ``) {\n        this.lastScores = [] // first run\n      } else {\n        this.lastScores = this.lastScores.split(`,`)\n      }\n      if (this.schoolScores === ``) {\n        this.schoolScores = []\n      } else {\n        this.schoolScores = this.schoolScores.split(`,`)\n      }\n      // check for new highest score\n      if (this.getTotalScore > this.highestScore) {\n        this.highestScore = this.getTotalScore\n        localStorage.setItem(`highestScore`, this.getTotalScore)\n      } else {\n        console.log(`Your score is not so high: ${this.getTotalScore}`)\n      }\n      if (this.getCurrentGameState.schoolCompleted) {\n        // record game result if school completed\n        this.lastScores.push(this.getTotalScore)\n        localStorage.setItem(`lastScoresArray`, this.lastScores)\n        // and school result for stats\n        this.schoolScores.push(this.getSchoolScore)\n        localStorage.setItem(`schoolScores`, this.schoolScores)\n      } else {\n        // game ended in school,\n        // so we have only school result to save\n        this.schoolScores.push(this.getSchoolScore)\n        localStorage.setItem(`schoolScores`, this.schoolScores)\n      }\n      //\n      // finally check if user is registered\n      //\n      if (!this.getUserData.isAuthenticated) {\n        console.log(`Anonymous! To save results please register.`)\n      } else if (this.getUserData.isAuthenticated && this.isOnline) {\n        console.log(`User is authenticated and network is online. Syncing with firestore.`)\n        this.syncScoreWithFirestore()\n      } else if (this.getUserData.isAuthenticated &&\n        !this.isOnline &&\n        this.getCurrentGameState.gameInProgress) {\n        console.log(`User is authenticated but network is offline.`)\n        this.networkProblemDialog = true\n      } else {\n        console.log(`Something went wrong in the piping system.`)\n      }\n    },\n    // if user exists add score to the account\n    syncScoreWithFirestore() {\n      this.tryAgainBtnLoading = !this.tryAgainBtnLoading\n      console.log(`Syncing score for user ${localStorage.getItem(`userName`)}`)\n      const uid = localStorage.getItem(`userUid`)\n      db.collection(this.dbUsersCollRef).where(`uid`, `==`, uid)\n        .get()\n        .then(querySnapshot => {\n          let docToUpdateId\n          querySnapshot.forEach(doc => {\n            // doc.data() is never undefined for query doc snapshots\n            if (doc.data().uid === uid) {\n              docToUpdateId = doc.id\n            }\n          })\n          return docToUpdateId\n        })\n        .then(docToUpdateId => {\n          const docRef = db.collection(this.dbUsersCollRef).doc(docToUpdateId)\n          const resultsArrayToUpdate = localStorage.getItem(`lastScoresArray`)\n          const highestScoreToUpdate = localStorage.getItem(`highestScore`)\n          const schoolScoresToUpdate = localStorage.getItem(`schoolScores`)\n          const updateDocRef = docRef.update({\n            resultsArray: resultsArrayToUpdate,\n            schoolResultsArray: schoolScoresToUpdate,\n            hiScore: highestScoreToUpdate\n          })\n          console.log(`...updating user stats`)\n          this.tryAgainBtnLoading = !this.tryAgainBtnLoading\n          this.networkProblemDialog = !this.networkProblemDialog\n          return updateDocRef // ? true\n        })\n        .catch(error => {\n          this.tryAgainBtnLoading = !this.tryAgainBtnLoading\n          console.log(`Error getting documents: `, error)\n        })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import \"../assets/scss/index.scss\";\n\n.user-name-game-end, .message-school, .message-game, .offline-save-message {\n  font-family: $text-font;\n}\n.user-name-game-end {\n  span {\n    color: $color-chosen;\n  }\n}\n.message-school {\n  line-height: 1.5;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EndGame.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EndGame.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EndGame.vue?vue&type=template&id=009e48b3&scoped=true&\"\nimport script from \"./EndGame.vue?vue&type=script&lang=js&\"\nexport * from \"./EndGame.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EndGame.vue?vue&type=style&index=0&id=009e48b3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"009e48b3\",\n  null\n  \n)\n\nexport default component.exports","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-flex',{staticClass:\"text-xs-right\"},[_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"fab\":\"\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('v-icon',{attrs:{\"size\":\"3em\",\"color\":\"#79008f\"}},[_vm._v(\"\\n      close\\n    \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseBtn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseBtn.vue?vue&type=script&lang=js&\"","<template>\n  <v-flex class=\"text-xs-right\">\n    <v-btn\n      small\n      icon\n      fab\n      dark\n      @click=\"$router.go(-1)\"\n    >\n      <v-icon\n        size=\"3em\"\n        color=\"#79008f\"\n      >\n        close\n      </v-icon>\n    </v-btn>\n  </v-flex>\n</template>\n\n<script>\nexport default {\n  name: `CloseBtn`\n}\n</script>\n","import { render, staticRenderFns } from \"./CloseBtn.vue?vue&type=template&id=aa092b58&\"\nimport script from \"./CloseBtn.vue?vue&type=script&lang=js&\"\nexport * from \"./CloseBtn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import firebase from 'firebase/app'\nimport 'firebase/firestore'\n// import firebaseConfig from './firebaseConfig'\n/*\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig)\n} */\nfirebase.firestore().settings({timestampsInSnapshots: true})\nexport default firebase.firestore()\n","// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {\n  'use strict';\n  var isRegExp = require('./_is-regexp');\n  var _split = $split;\n  var $push = [].push;\n  var $SPLIT = 'split';\n  var LENGTH = 'length';\n  var LAST_INDEX = 'lastIndex';\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while (match = separatorCopy.exec(string)) {\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          // eslint-disable-next-line no-loop-func\n          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n          });\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    $split = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit) {\n    var O = defined(this);\n    var fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n"],"sourceRoot":""}