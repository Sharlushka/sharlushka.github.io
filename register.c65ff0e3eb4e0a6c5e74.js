(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{112:function(e,t,s){"use strict";var r=s(97);s.n(r).a},113:function(e,t,s){(e.exports=s(21)(!1)).push([e.i,'@font-face{font-family:\'Quicksand\';font-style:normal;font-weight:400;font-display:swap;src:local("Quicksand Regular"),local("Quicksand-Regular"),url(https://fonts.gstatic.com/s/quicksand/v8/6xKtdSZaM9iE8KbpRA_hK1QN.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:\'Montserrat\';font-style:normal;font-weight:400;font-display:swap;src:local("Montserrat Regular"),local("Montserrat-Regular"),url(https://fonts.gstatic.com/s/montserrat/v12/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116}.default use[data-v-4d8afc6d]{color:#7B1FA2;stroke:#7B1FA2}.chosen use[data-v-4d8afc6d]{color:#FF9800;stroke:#FF9800}#register[data-v-4d8afc6d]{height:100%}.register-title[data-v-4d8afc6d],.register-form[data-v-4d8afc6d],.buttons[data-v-4d8afc6d]{font-family:"Quicksand","Verdana",sans-serif}\n',""])},142:function(e,t,s){"use strict";s.r(t);var r=s(92),a=s(15),o=s.n(a),l=(s(58),{name:"Register",components:{closeButton:s(91).a},data:function(){return{pageTitle:"Register",registering:!1,errorMessage:"",valid:!0,usersCollRef:"users",userNameFormValue:"",nameRules:[function(e){return!e||e.length<=10||"Name must be less than 10 characters"}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],password:"",passwordRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length<=12||"Password must be less than 12 characters"}],confirmPassword:""}},computed:{comparePasswords:function(){return this.password===this.confirmPassword||"Passwords do not match"}},mounted:function(){this.$nextTick(function(){console.log("Register page mounted.")})},methods:{signUp:function(){var e=this;this.errorMessage="",this.email&&this.password&&(this.registering=!0,o.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(t){""===e.userNameFormValue&&(e.userNameFormValue="Anonymous"),localStorage.setItem("userUid",t.user.uid),localStorage.setItem("userName",e.userNameFormValue);var s={name:localStorage.getItem("userName"),uid:t.user.uid,email:t.user.email,hiScore:localStorage.getItem("highestScore"),resultsArray:localStorage.getItem("lastScoresArray"),schoolResultsArray:localStorage.getItem("schoolScores")};e.addNewUser(s),console.log("User added ".concat(t.user.email)),e.verifyUserEmail(),e.$router.push("/game")}).catch(function(t){console.log(t.message),e.errorMessage=t.message,e.registering=!1}))},addNewUser:function(e){console.log("Adding user"),r.a.collection(this.usersCollRef).doc().set(e),console.log("Document successfully written!")},verifyUserEmail:function(){o.a.auth().currentUser.sendEmailVerification().then(function(){console.log("Email sent")}).catch(function(e){console.log("Error! ".concat(e))})},clear:function(){this.$refs.form.reset()}}}),n=(s(112),s(34)),i=Object(n.a)(l,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{id:"register",fluid:""}},[s("v-layout",{attrs:{column:""}},[s("closeButton"),e._v(" "),s("v-alert",{attrs:{value:e.errorMessage,dismissible:"",outline:"",type:"error"}},[e._v("\n      "+e._s(e.errorMessage)+"\n    ")]),e._v(" "),s("v-flex",{staticClass:"register-title text-xs-center py-4"},[s("h1",[e._v(e._s(e.pageTitle))])]),e._v(" "),s("v-layout",{staticClass:"register-form pb-4",attrs:{"justify-center":""}},[s("v-flex",{attrs:{xs9:""}},[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{rules:e.nameRules,counter:10,label:"Name",autocomplete:"username",color:"purple accent-4"},model:{value:e.userNameFormValue,callback:function(t){e.userNameFormValue=t},expression:"userNameFormValue"}}),e._v(" "),s("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",autocomplete:"email",color:"purple accent-4",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),s("v-text-field",{attrs:{type:"password",rules:e.passwordRules,label:"Password",autocomplete:"current-password",color:"purple accent-4",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),s("v-text-field",{attrs:{rules:[e.comparePasswords],type:"password",label:"Confirm password",autocomplete:"off",color:"purple accent-4",required:""},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1)],1),e._v(" "),s("v-layout",{staticClass:"buttons text-xs-center",attrs:{"justify-center":""}},[s("v-flex",{attrs:{xs5:"","d-flex":""}},[s("v-btn",{staticClass:"white--text",attrs:{disabled:!e.valid,loading:e.registering,outline:"",color:"orange"},on:{click:function(t){return t.preventDefault(),e.signUp(t)}}},[e._v("\n          register\n        ")])],1),e._v(" "),s("v-flex",{attrs:{xs5:"","d-flex":""}},[s("v-btn",{staticClass:"button white--text",attrs:{disabled:e.valid,outline:"",color:"purple darken-1"},on:{click:e.clear}},[e._v("\n          clear\n        ")])],1)],1)],1)],1)},[],!1,null,"4d8afc6d",null);t.default=i.exports},91:function(e,t,s){"use strict";var r={name:"CloseBtn"},a=s(34),o=Object(a.a)(r,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-flex",{staticClass:"text-xs-right"},[s("v-btn",{attrs:{small:"",icon:"",fab:"",dark:""},on:{click:function(t){return e.$router.go(-1)}}},[s("v-icon",{attrs:{size:"3em",color:"#79008f"}},[e._v("\n      close\n    ")])],1)],1)},[],!1,null,null,null);t.a=o.exports},92:function(e,t,s){"use strict";var r=s(15),a=s.n(r);s(95);a.a.firestore().settings({timestampsInSnapshots:!0}),t.a=a.a.firestore()},97:function(e,t,s){var r=s(113);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,s(35).default)("db9324d8",r,!0,{})}}]);
//# sourceMappingURL=register.c65ff0e3eb4e0a6c5e74.js.map