(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{123:function(e,t,s){var r=s(138);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,s(15).default)("2d00a816",r,!0,{})},124:function(e,t,s){"use strict";var r=s(25),a=s.n(r);s(129);a.a.firestore().settings({timestampsInSnapshots:!0}),t.a=a.a.firestore()},137:function(e,t,s){"use strict";var r=s(123);s.n(r).a},138:function(e,t,s){(e.exports=s(12)(!1)).push([e.i,".error-message[data-v-1e4029f1]{position:fixed;top:3.5em;margin:0em 1em 0em 1em;right:0;left:0;border:0.066em solid #ffbdbd;color:#ff5050;padding-left:.5em;border-radius:.2em;font-size:1em}.error-close-icon[data-v-1e4029f1]{fill:#ffbdbd}\n",""])},139:function(e,t,s){var r=s(155);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,s(15).default)("1cbe3c10",r,!0,{})},148:function(e,t,s){"use strict";s(32),s(42),s(65);var r=s(16);function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},r=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),r.forEach(function(t){o(e,t,s[t])})}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n={name:"ErrorMessage",components:{closeIcon:{functional:!0,render(e,t){const{_c:s,_v:r,data:a,children:o=[]}=t,{class:n,staticClass:l,style:i,staticStyle:c,attrs:u={},...f}=a;return s("svg",{class:[n,l],style:[i,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"33",height:"33",viewBox:"0 0 24 24"},u),...f},o.concat([s("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}),s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})]))}}},computed:a({},Object(r.c)(["error"])),methods:a({},Object(r.b)(["setErrorMessage"]),{closeErrorMessage:function(){this.$store.dispatch("setErrorMessage",!1)}})},l=(s(137),s(13)),i=Object(l.a)(n,function(){var e=this.$createElement,t=this._self._c||e;return this.error?t("v-layout",{staticClass:"error-message",attrs:{"align-center":""}},[t("v-flex",{staticClass:"text-xs-left",attrs:{xs10:"","d-flex":""}},[this._v("\n    "+this._s(this.error.message)+"\n  ")]),this._v(" "),t("v-flex",{attrs:{xs2:"","d-flex":"","justify-center":""}},[t("v-btn",{attrs:{flat:"",icon:""},on:{click:this.closeErrorMessage}},[t("closeIcon",{staticClass:"error-close-icon"})],1)],1)],1):this._e()},[],!1,null,"1e4029f1",null);t.a=i.exports},154:function(e,t,s){"use strict";var r=s(139);s.n(r).a},155:function(e,t,s){(e.exports=s(12)(!1)).push([e.i,'@font-face{font-family:\'Quicksand\';font-style:normal;font-weight:400;font-display:swap;src:local("Quicksand Regular"),local("Quicksand-Regular"),url(https://fonts.gstatic.com/s/quicksand/v8/6xKtdSZaM9iE8KbpRA_hK1QN.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:\'Montserrat\';font-style:normal;font-weight:400;font-display:swap;src:local("Montserrat Regular"),local("Montserrat-Regular"),url(https://fonts.gstatic.com/s/montserrat/v12/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116}.default use[data-v-4ca64f8b]{color:#7B1FA2;stroke:#7B1FA2}.chosen use[data-v-4ca64f8b]{color:#FF9800;stroke:#FF9800}.highlighted[data-v-4ca64f8b]{color:#FF9800;fill:#FF9800}.default-icon-color[data-v-4ca64f8b]{color:#7B1FA2;fill:#7B1FA2}#register[data-v-4ca64f8b]{height:100%}.register-title[data-v-4ca64f8b],.register-form[data-v-4ca64f8b],.buttons[data-v-4ca64f8b]{font-family:"Quicksand","Verdana",sans-serif}\n',""])},180:function(e,t,s){"use strict";s.r(t);var r=s(148),a=s(124),o=s(25),n=s.n(o),l=(s(67),{name:"Register",components:{errorMessageDialog:r.a},data:function(){return{pageTitle:"Register",registering:!1,errorMessage:"",valid:!0,usersCollRef:"users",userNameFormValue:"",nameRules:[function(e){return!e||e.length<=10||"Name must be less than 10 characters"}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^([a-zA-Z0-9_\-\\.]+)@([a-zA-Z0-9_\-\\.]+)\.([a-zA-Z]{2,5})$/.test(e)||"E-mail must be valid"}],password:"",showPass:!1,passwordRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length<=12||"Password must be less than 12 characters"}],confirmPassword:"",showConfPass:!1}},computed:{comparePasswords:function(){return this.password===this.confirmPassword||"Passwords do not match"}},mounted:function(){this.$nextTick(function(){console.log("Register page mounted.")})},methods:{signUp:function(){var e=this;this.errorMessage="",this.email&&this.password&&(this.registering=!0,n.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(t){""===e.userNameFormValue&&(e.userNameFormValue="Anonymous"),localStorage.setItem("userUid",t.user.uid),localStorage.setItem("userName",e.userNameFormValue);var s={name:localStorage.getItem("userName"),uid:t.user.uid,email:t.user.email,hiScore:localStorage.getItem("highestScore"),resultsArray:localStorage.getItem("lastScoresArray"),schoolResultsArray:localStorage.getItem("schoolScores")};e.addNewUser(s),console.log("User added ".concat(t.user.email)),e.verifyUserEmail(),e.$router.push("/game")}).catch(function(t){console.log(t.message),e.errorMessage=t.message,e.registering=!1}))},addNewUser:function(e){console.log("Adding user"),a.a.collection(this.usersCollRef).doc().set(e),console.log("Document successfully written!")},verifyUserEmail:function(){n.a.auth().currentUser.sendEmailVerification().then(function(){console.log("Email sent")}).catch(function(e){console.log("Error! ".concat(e))})},clear:function(){this.$refs.form.reset(),this.showPass=!1,this.showConfPass=!1}}}),i=(s(154),s(13)),c=Object(i.a)(l,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{id:"register",fluid:"","pt-4":""}},[s("v-layout",{attrs:{column:""}},[s("errorMessageDialog"),e._v(" "),s("v-flex",{staticClass:"register-title text-xs-center py-4"},[s("h1",[e._v(e._s(e.pageTitle))])]),e._v(" "),s("v-layout",{staticClass:"register-form py-4",attrs:{"justify-center":""}},[s("v-flex",{attrs:{xs9:""}},[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{rules:e.nameRules,counter:10,label:"Name",color:"purple accent-4",autocomplete:"off"},model:{value:e.userNameFormValue,callback:function(t){e.userNameFormValue=t},expression:"userNameFormValue"}}),e._v(" "),s("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",autocomplete:"email",color:"purple accent-4",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),s("v-text-field",{attrs:{"append-icon":e.showPass?"mdi-eye":"mdi-eye-off",type:e.showPass?"text":"password",rules:e.passwordRules,label:"Password",autocomplete:"new-password",color:"purple accent-4",required:"",hint:"At least 6 characters"},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),s("v-text-field",{attrs:{"append-icon":e.showConfPass?"mdi-eye":"mdi-eye-off",type:e.showConfPass?"text":"password",rules:[e.comparePasswords],label:"Confirm password",autocomplete:"off",color:"purple accent-4",required:""},on:{"click:append":function(t){e.showConfPass=!e.showConfPass}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1)],1),e._v(" "),s("v-layout",{staticClass:"buttons text-xs-center py-4",attrs:{"justify-center":""}},[s("v-flex",{attrs:{xs5:"","d-flex":""}},[s("v-btn",{staticClass:"white--text",attrs:{disabled:!e.valid,loading:e.registering,outline:"",color:"orange"},on:{click:function(t){return t.preventDefault(),e.signUp(t)}}},[e._v("\n          register\n        ")])],1),e._v(" "),s("v-flex",{attrs:{xs5:"","d-flex":""}},[s("v-btn",{staticClass:"button white--text",attrs:{disabled:e.valid,outline:"",color:"purple darken-1"},on:{click:e.clear}},[e._v("\n          clear\n        ")])],1)],1)],1)],1)},[],!1,null,"4ca64f8b",null);t.default=c.exports}}]);
//# sourceMappingURL=register.48ee6d971d21f9152738.js.map