{"version":3,"sources":["webpack:///./src/firebase/firebaseInit.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/views/Login.vue?5772","webpack:///./src/views/Login.vue?e475","webpack:///./src/views/Login.vue?e8a6","webpack:///./src/views/Login.vue?8e76","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?4fab","webpack:///./src/views/Login.vue"],"names":["firebase_app__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","firebase_app__WEBPACK_IMPORTED_MODULE_0___default","n","firebase","firestore","settings","timestampsInSnapshots","dP","f","FProto","Function","prototype","nameRE","configurable","get","this","match","e","content","module","i","locals","exports","add","default","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","push","views_Loginvue_type_script_lang_js_","name","data","loggingIn","signingOut","errorMessage","undefined","newUserBtnText","pageTitle","valid","email","emailRules","v","test","password","passwordRules","length","confirmPassword","usersCollRef","computed","_objectSpread","Object","vuex_esm","comparePasswords","mounted","$nextTick","console","log","methods","login","_this","toggleButtonLoadingState","index_cjs_default","a","auth","signInWithEmailAndPassword","then","response","getUserDataFromDB","user","uid","$router","catch","err","message","signOut","_this2","loggingOut","$store","commit","localStorage","clear","error","firebaseInit","collection","where","querySnapshot","forEach","doc","setItem","hiScore","resultsArray","schoolResultsArray","btn","concat","button","_typeof","clearForm","$refs","form","reset","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","fluid","pa-0","column","d-flex","value","dismissible","outline","relative","type","_v","_s","justify-center","xs9","align-center","py-4","ref","lazy-validation","model","callback","$$v","expression","rules","label","autocomplete","required","color","row","wrap","xs5","loading","ripple","on","click","$event","preventDefault","disabled","xs12","getUserAuthState","to","__webpack_exports__"],"mappings":"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","file":"login.b7de93daa2ee9fb9e237.js","sourcesContent":["import firebase from 'firebase/app'\nimport 'firebase/firestore'\n// import firebaseConfig from './firebaseConfig'\n/*\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig)\n} */\nfirebase.firestore().settings({timestampsInSnapshots: true})\nexport default firebase.firestore()\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"25b5cef2\", content, true, {});","import mod from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"@font-face{font-family:'Quicksand';font-style:normal;font-weight:400;font-display:swap;src:local(\\\"Quicksand Regular\\\"),local(\\\"Quicksand-Regular\\\"),url(https://fonts.gstatic.com/s/quicksand/v8/6xKtdSZaM9iE8KbpRA_hK1QN.woff2) format(\\\"woff2\\\");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Montserrat';font-style:normal;font-weight:400;font-display:swap;src:local(\\\"Montserrat Regular\\\"),local(\\\"Montserrat-Regular\\\"),url(https://fonts.gstatic.com/s/montserrat/v12/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format(\\\"woff2\\\");unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116}.default use{color:#7B1FA2;stroke:#7B1FA2}.chosen use{color:#FF9800;stroke:#FF9800}.highlighted{color:#FF9800;fill:#FF9800}.default-icon-color{color:#7B1FA2;fill:#7B1FA2}.login-form,.page-title,.info-text,.button{font-family:\\\"Quicksand\\\",\\\"Verdana\\\",sans-serif}.info-text{color:#7B1FA2;font-size:1.4em;font-weight:700}\\n\", \"\"]);\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"text-xs-center\",attrs:{\"id\":\"login\",\"fluid\":\"\",\"pa-0\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',{attrs:{\"d-flex\":\"\"}},[_c('v-alert',{attrs:{\"value\":_vm.errorMessage,\"dismissible\":\"\",\"outline\":\"\",\"relative\":\"\",\"type\":\"error\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.errorMessage)+\"\\n      \")])],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"page-title py-4\",attrs:{\"d-flex\":\"\"}},[_c('h1',[_vm._v(_vm._s(_vm.pageTitle))])]),_vm._v(\" \"),_c('v-layout',{staticClass:\"login-form py-4\",attrs:{\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs9\":\"\",\"d-flex\":\"\",\"align-center\":\"\",\"py-4\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"label\":\"E-mail\",\"type\":'email',\"autocomplete\":\"off\",\"required\":\"\",\"color\":\"purple accent-4\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"rules\":_vm.passwordRules,\"type\":'password',\"label\":\"Password\",\"autocomplete\":\"off\",\"required\":\"\",\"color\":\"purple accent-4\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1)],1),_vm._v(\" \"),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"d-flex\":\"\",\"xs5\":\"\"}},[_c('v-btn',{staticClass:\"button white--text\",attrs:{\"type\":'submit',\"loading\":_vm.loggingIn,\"outline\":\"\",\"ripple\":\"\",\"color\":\"orange\"},on:{\"click\":function($event){$event.preventDefault();return _vm.login($event)}}},[_vm._v(\"\\n          login\\n        \")])],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"d-flex\":\"\",\"xs5\":\"\"}},[_c('v-btn',{staticClass:\"button white--text\",attrs:{\"disabled\":_vm.valid,\"outline\":\"\",\"ripple\":\"\",\"color\":\"purple darken-1\"},on:{\"click\":_vm.clearForm}},[_vm._v(\"\\n          clear\\n        \")])],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"info-text\",attrs:{\"xs12\":\"\",\"py-4\":\"\",\"align-center\":\"\"}},[_c('v-divider')],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"d-flex\":\"\",\"xs5\":\"\"}},[_c('v-btn',{staticClass:\"button white--text\",attrs:{\"loading\":_vm.signingOut,\"disabled\":!_vm.getUserAuthState,\"outline\":\"\",\"ripple\":\"\",\"color\":\"purple darken-1\"},on:{\"click\":_vm.signOut}},[_vm._v(\"\\n          log out\\n        \")])],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"d-flex\":\"\",\"xs5\":\"\"}},[_c('v-btn',{staticClass:\"button white--text\",attrs:{\"to\":\"/register\",\"outline\":\"\",\"ripple\":\"\",\"color\":\"purple darken-1\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.newUserBtnText)+\"\\n        \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container\n    id=\"login\"\n    fluid\n    pa-0\n    class=\"text-xs-center\"\n  >\n    <!-- Error message -->\n    <v-layout column>\n      <v-flex d-flex>\n        <v-alert\n          :value=\"errorMessage\"\n          dismissible\n          outline\n          relative\n          type=\"error\"\n        >\n          {{ errorMessage }}\n        </v-alert>\n      </v-flex>\n      <!-- Page title -->\n      <v-flex\n        d-flex\n        class=\"page-title py-4\"\n      >\n        <h1>{{ pageTitle }}</h1>\n      </v-flex>\n      <!-- Input form -->\n      <v-layout\n        justify-center\n        class=\"login-form py-4\"\n      >\n        <v-flex\n          xs9\n          d-flex\n          align-center\n          py-4\n        >\n          <v-form\n            ref=\"form\"\n            v-model=\"valid\"\n            lazy-validation\n          >\n            <v-text-field\n              v-model=\"email\"\n              :rules=\"emailRules\"\n              label=\"E-mail\"\n              :type=\"'email'\"\n              autocomplete=\"off\"\n              required\n              color=\"purple accent-4\"\n            />\n            <v-text-field\n              v-model=\"password\"\n              :rules=\"passwordRules\"\n              :type=\"'password'\"\n              label=\"Password\"\n              autocomplete=\"off\"\n              required\n              color=\"purple accent-4\"\n            />\n          </v-form>\n        </v-flex>\n      </v-layout>\n      <!-- Buttons layout -->\n      <v-layout\n        row\n        wrap\n        justify-center\n      >\n        <v-flex\n          d-flex\n          xs5\n        >\n          <v-btn\n            :type=\"'submit'\"\n            :loading=\"loggingIn\"\n            outline\n            ripple\n            class=\"button white--text\"\n            color=\"orange\"\n            @click.prevent=\"login\"\n          >\n            login\n          </v-btn>\n        </v-flex>\n\n        <v-flex\n          d-flex\n          xs5\n        >\n          <v-btn\n            :disabled=\"valid\"\n            outline\n            ripple\n            class=\"button white--text\"\n            color=\"purple darken-1\"\n            @click=\"clearForm\"\n          >\n            clear\n          </v-btn>\n        </v-flex>\n\n        <v-flex\n          xs12\n          py-4\n          align-center\n          class=\"info-text\"\n        >\n          <v-divider />\n        </v-flex>\n\n        <v-flex\n          d-flex\n          xs5\n        >\n          <v-btn\n            :loading=\"signingOut\"\n            :disabled=\"!getUserAuthState\"\n            outline\n            ripple\n            class=\"button white--text\"\n            color=\"purple darken-1\"\n            @click=\"signOut\"\n          >\n            log out\n          </v-btn>\n        </v-flex>\n\n        <v-flex\n          d-flex\n          xs5\n        >\n          <v-btn\n            to=\"/register\"\n            outline\n            ripple\n            class=\"button white--text\"\n            color=\"purple darken-1\"\n          >\n            {{ newUserBtnText }}\n          </v-btn>\n        </v-flex>\n      </v-layout>\n      <!-- End of buttons layout -->\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport firebase from 'firebase/app'\nimport db from '../firebase/firebaseInit'\nimport 'firebase/auth'\n\nexport default {\n  name: `Login`,\n  data: () => ({\n    loggingIn: false,\n    signingOut: false,\n    errorMessage: undefined,\n    newUserBtnText: `Register`,\n    pageTitle: `Log In`,\n    valid: true,\n    email: ``,\n    emailRules: [\n      (v) => !!v || `E-mail is required`,\n      (v) => /.+@.+/.test(v) || `E-mail must be valid`\n    ],\n    password: ``,\n    passwordRules: [\n      (v) => !!v || `Password is required`,\n      (v) => v && v.length <= 12 || `Password must be less than 12 characters`\n    ],\n    confirmPassword: ``,\n    usersCollRef: `users`\n  }),\n  computed: {\n    ...mapGetters([\n      `getUserAuthState`\n    ]),\n    comparePasswords() {\n      return this.password !== this.confirmPassword ? `Passwords do not match` : true\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      console.log(`Login page mounted.`)\n    })\n  },\n  methods: {\n    login() {\n      console.log(`Signing user in.`)\n      this.errorMessage = undefined // null\n      if (this.email && this.password) { // need some proper validation\n        this.toggleButtonLoadingState(`login`)\n        firebase.auth()\n          .signInWithEmailAndPassword(this.email, this.password)\n          .then(response => {\n            this.getUserDataFromDB(response.user.uid)\n          }).then(() => {\n            this.toggleButtonLoadingState(`login`)\n            this.$router.push(`/game`)\n          }).catch(err => {\n            console.log(err.message)\n            this.errorMessage = err.message\n            this.toggleButtonLoadingState(`login`)\n            return false\n          })\n        return true\n      }\n    },\n    signOut() {\n      console.log(`Signing user out.`)\n      this.toggleButtonLoadingState(`signout`)\n      firebase.auth().signOut().then(() => {\n        this.loggingOut = !this.loggingOut\n        this.$store.commit(`setUserIsLoggedIn`, false)\n        localStorage.clear()\n        this.$router.push(`/`)\n        this.toggleButtonLoadingState(`signout`)\n      }).catch((error) => {\n        console.error(`Sign Out Error:`, error)\n        this.toggleButtonLoadingState(`signout`)\n      })\n    },\n    getUserDataFromDB(uid) {\n      db.collection(this.usersCollRef).where(`uid`, `==`, uid)\n        .get()\n        .then(querySnapshot => {\n          querySnapshot.forEach(doc => {\n            if (doc.data().uid === uid) {\n              // save to local storage\n              localStorage.setItem(`userName`, doc.data().name)\n              localStorage.setItem(`userUid`, doc.data().uid)\n              localStorage.setItem(`highestScore`, doc.data().hiScore)\n              localStorage.setItem(`lastScoresArray`, doc.data().resultsArray)\n              localStorage.setItem(`schoolScores`, doc.data().schoolResultsArray)\n            }\n          })\n        })\n        .catch(error => {\n          console.log(`Error getting documents: `, error)\n        })\n    },\n    toggleButtonLoadingState(btn) {\n      console.log(`Button to toggle ${btn}`)\n      if (btn === `login`) {\n        this.loggingIn = !this.loggingIn\n        return true\n      } else if (btn === `signout`) {\n        this.signingOut = !this.signingOut\n        return true\n      } else {\n        console.log(`Nothing to toggle, button is ${typeof button}`)\n        return false\n      }\n    },\n    clearForm() {\n      this.$refs.form.reset()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '../assets/scss/index.scss';\n\n.login-form, .page-title, .info-text, .button {\n  font-family: $text-font;\n}\n.info-text {\n  color: $color-primary-0;\n  font-size: 1.4em;\n  font-weight: 700;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=696832c1&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}