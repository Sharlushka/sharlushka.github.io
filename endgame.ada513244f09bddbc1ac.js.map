{"version":3,"sources":["webpack:///./src/firebase/firebaseInit.js","webpack:///./node_modules/core-js/modules/es6.regexp.split.js","webpack:///./node_modules/core-js/modules/_fix-re-wks.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./src/assets/icons/baseline-replay-24px.svg","webpack:///./src/views/EndGame.vue?fb1d","webpack:///./src/views/EndGame.vue?5aba","webpack:///./src/views/EndGame.vue?0ab4","webpack:///./src/views/EndGame.vue?7017","webpack:///./src/assets/icons/baseline-cancel-24px.svg","webpack:///src/views/EndGame.vue","webpack:///./src/views/EndGame.vue?532a","webpack:///./src/views/EndGame.vue"],"names":["firebase_app__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","firebase_app__WEBPACK_IMPORTED_MODULE_0___default","n","firebase","firestore","settings","timestampsInSnapshots","defined","SPLIT","$split","isRegExp","_split","$push","push","NPCG","undefined","exec","separator","limit","string","String","this","call","separator2","match","lastIndex","lastLength","i","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","splitLimit","separatorCopy","RegExp","source","index","slice","replace","arguments","apply","test","O","fn","hide","redefine","fails","wks","module","exports","KEY","length","SYMBOL","fns","strfn","rxfn","prototype","arg","isObject","cof","MATCH","it","__webpack_exports__","functional","[object Object]","_h","_vm","_c","_v","data","children","class","classNames","staticClass","style","staticStyle","attrs","rest","Object","assign","xmlns","width","height","concat","d","fill","content","locals","add","default","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_EndGame_vue_vue_type_style_index_0_id_b2692bd0_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","baseline_cancel_24px","views_EndGamevue_type_script_lang_js_","components","NetworkCheck","restartIcon","baseline_replay_24px","cancelIcon","message","messageText","graduationMessage","schoolScoreMessage","userName","highestScore","networkProblemDialog","tryAgainBtnLoading","offlineSaveUserMessage","hiscoreGreeting","exclamation","lastScores","schoolScores","dbUsersCollRef","computed","_objectSpread","vuex_esm","mounted","_this","$nextTick","console","log","getUserData","isAuthenticated","localStorage","getItem","getDefaultUserName","isGameEnded","getTotalScore","setItem","addScoreToDatabase","$store","dispatch","then","methods","restartGame","store","commit","$router","split","getCurrentGameState","schoolCompleted","getSchoolScore","isOnline","syncScoreWithFirestore","toggleNetworkProblemDialog","_this2","uid","firebaseInit","collection","where","get","querySnapshot","docToUpdateId","forEach","doc","id","docRef","resultsArrayToUpdate","highestScoreToUpdate","schoolScoresToUpdate","update","resultsArray","schoolResultsArray","hiScore","catch","error","component","componentNormalizer","$createElement","_self","fill-height","pa-0","mp-0","column","align-center","d-flex","_s","_e","row","justify-space-around","xs5","lg2","ripple","outline","color","on","click","model","value","callback","$$v","expression","loading","$event"],"mappings":"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","file":"endgame.ada513244f09bddbc1ac.js","sourcesContent":["import firebase from 'firebase/app'\nimport 'firebase/firestore'\n// import firebaseConfig from './firebaseConfig'\n/*\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig)\n} */\nfirebase.firestore().settings({timestampsInSnapshots: true})\nexport default firebase.firestore()\n","// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {\n  'use strict';\n  var isRegExp = require('./_is-regexp');\n  var _split = $split;\n  var $push = [].push;\n  var $SPLIT = 'split';\n  var LENGTH = 'length';\n  var LAST_INDEX = 'lastIndex';\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while (match = separatorCopy.exec(string)) {\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          // eslint-disable-next-line no-loop-func\n          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n          });\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    $split = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit) {\n    var O = defined(this);\n    var fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M0 0h24v24H0z\",\"fill\":\"none\"}}),_c('path',{attrs:{\"d\":\"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\"}})])\n          )\n        }\n      }\n    ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EndGame.vue?vue&type=style&index=0&id=b2692bd0&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5498f8cf\", content, true, {});","import mod from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EndGame.vue?vue&type=style&index=0&id=b2692bd0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EndGame.vue?vue&type=style&index=0&id=b2692bd0&lang=scss&scoped=true&\"","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"@font-face{font-family:'Quicksand';font-style:normal;font-weight:400;font-display:swap;src:local(\\\"Quicksand Regular\\\"),local(\\\"Quicksand-Regular\\\"),url(https://fonts.gstatic.com/s/quicksand/v8/6xKtdSZaM9iE8KbpRA_hK1QN.woff2) format(\\\"woff2\\\");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Montserrat';font-style:normal;font-weight:400;font-display:swap;src:local(\\\"Montserrat Regular\\\"),local(\\\"Montserrat-Regular\\\"),url(https://fonts.gstatic.com/s/montserrat/v12/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format(\\\"woff2\\\");unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116}.default use[data-v-b2692bd0]{color:#7B1FA2;stroke:#7B1FA2}.chosen use[data-v-b2692bd0]{color:#FF9800;stroke:#FF9800}.highlighted[data-v-b2692bd0]{color:#FF9800;fill:#FF9800}.default-icon-color[data-v-b2692bd0]{color:#7B1FA2;fill:#7B1FA2}.user-name-game-end[data-v-b2692bd0],.message-school[data-v-b2692bd0],.message-game[data-v-b2692bd0],.offline-save-message[data-v-b2692bd0]{font-family:\\\"Quicksand\\\",\\\"Verdana\\\",sans-serif}.user-name-game-end span[data-v-b2692bd0]{color:#FF9800}.message-school[data-v-b2692bd0]{line-height:1.5}.offline-save-message[data-v-b2692bd0]{font-size:1.2em;padding-top:0;text-indent:1em}.network-check-background[data-v-b2692bd0]{height:3em}.chosen[data-v-b2692bd0]{color:red}\\n\", \"\"]);\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"id\":\"endGame\",\"fill-height\":\"\",\"pa-0\":\"\",\"mp-0\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',{staticClass:\"user-name-game-end text-xs-center\",attrs:{\"align-center\":\"\",\"d-flex\":\"\"}},[_c('h1',[_vm._v(\"\\n        \"+_vm._s(_vm.message)),_c('br'),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.userName)+_vm._s(_vm.exclamation))])])]),_vm._v(\" \"),(!_vm.getCurrentGameState.schoolCompleted)?_c('v-flex',{staticClass:\"message-school text-xs-center\"},[_c('h3',[_vm._v(_vm._s(_vm.graduationMessage))]),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.schoolScoreMessage)+\" \"+_vm._s(_vm.getTotalScore))])]):_vm._e(),_vm._v(\" \"),(_vm.getCurrentGameState.schoolCompleted)?_c('v-flex',{staticClass:\"message-game text-xs-center\"},[_c('h2',[_vm._v(_vm._s(_vm.messageText)+\" \"+_vm._s(_vm.getTotalScore))])]):_vm._e(),_vm._v(\" \"),_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\",\"justify-space-around\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"d-flex\":\"\",\"xs5\":\"\",\"lg2\":\"\"}},[_c('v-btn',{attrs:{\"ripple\":\"\",\"outline\":\"\",\"color\":\"orange\"},on:{\"click\":_vm.restartGame}},[_c('restartIcon',{staticClass:\"highlighted\"}),_vm._v(\"\\n          restart\\n        \")],1)],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"width\":\"20em\"},model:{value:(_vm.networkProblemDialog),callback:function ($$v) {_vm.networkProblemDialog=$$v},expression:\"networkProblemDialog\"}},[_c('v-card',{staticClass:\"text-xs-center\"},[_c('v-flex',{staticClass:\"network-check-background\"},[_c('NetworkCheck')],1),_vm._v(\" \"),_c('v-card-text',{staticClass:\"text-xs-left offline-save-message\"},[_vm._v(\"\\n        \"+_vm._s(_vm.offlineSaveUserMessage)+\"\\n      \")]),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"orange\",\"outline\":\"\",\"loading\":_vm.tryAgainBtnLoading},on:{\"click\":_vm.syncScoreWithFirestore}},[_c('restartIcon',{staticClass:\"highlighted\"}),_vm._v(\"\\n          Try again\\n        \")],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"outline\":\"\",\"ripple\":\"\",\"color\":\"purple darken-2\"},on:{\"click\":function($event){_vm.networkProblemDialog = false}}},[_c('cancelIcon',{staticClass:\"default-icon-color\"}),_vm._v(\"\\n          Cancel\\n        \")],1),_vm._v(\" \"),_c('v-spacer')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"}}),_c('path',{attrs:{\"d\":\"M0 0h24v24H0z\",\"fill\":\"none\"}})])\n          )\n        }\n      }\n    ","<template>\n  <v-container\n    id=\"endGame\"\n    fill-height\n    pa-0\n    mp-0\n  >\n    <v-layout\n      column\n    >\n      <!-- Messages -->\n      <v-flex\n        class=\"user-name-game-end text-xs-center\"\n        align-center\n        d-flex\n      >\n        <h1>\n          {{ message }}<br>\n          <span>{{ userName }}{{ exclamation }}</span>\n        </h1>\n      </v-flex>\n      <!-- School message -->\n      <v-flex\n        v-if=\"!getCurrentGameState.schoolCompleted\"\n        class=\"message-school text-xs-center\"\n      >\n        <h3>{{ graduationMessage }}</h3>\n        <h2>{{ schoolScoreMessage }} {{ getTotalScore }}</h2>\n      </v-flex>\n      <!-- Game message -->\n      <v-flex\n        v-if=\"getCurrentGameState.schoolCompleted\"\n        class=\"message-game text-xs-center\"\n      >\n        <h2>{{ messageText }} {{ getTotalScore }}</h2>\n      </v-flex>\n      <!-- Buttons -->\n      <v-layout\n        row\n        align-center\n        justify-space-around\n      >\n        <v-flex\n          d-flex\n          xs5\n          lg2\n          class=\"text-xs-center\"\n        >\n          <v-btn\n            ripple\n            outline\n            color=\"orange\"\n            @click=\"restartGame\"\n          >\n            <restartIcon class=\"highlighted\" />\n            restart\n          </v-btn>\n        </v-flex>\n      </v-layout>\n    </v-layout>\n    <!-- Offline save dialog -->\n    <v-dialog\n      v-model=\"networkProblemDialog\"\n      width=\"20em\"\n    >\n      <v-card class=\"text-xs-center\">\n        <v-flex class=\"network-check-background\">\n          <NetworkCheck />\n        </v-flex>\n        <v-card-text\n          class=\"text-xs-left offline-save-message\"\n        >\n          {{ offlineSaveUserMessage }}\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"orange\"\n            outline\n            :loading=\"tryAgainBtnLoading\"\n            @click=\"syncScoreWithFirestore\"\n          >\n            <restartIcon class=\"highlighted\" />\n            Try again\n          </v-btn>\n          <v-btn\n            outline\n            ripple\n            color=\"purple darken-2\"\n            @click=\"networkProblemDialog = false\"\n          >\n            <cancelIcon class=\"default-icon-color\" />\n            Cancel\n          </v-btn>\n          <v-spacer />\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport store from '../store/store' // $this.store?\nimport db from '../firebase/firebaseInit'\nimport NetworkCheck from '../components/NetworkCheck.vue'\nimport restartIcon from '../assets/icons/baseline-replay-24px.svg'\nimport cancelIcon from '../assets/icons/baseline-cancel-24px.svg'\n\nexport default {\n  components: {\n    NetworkCheck,\n    restartIcon,\n    cancelIcon\n  },\n  data() {\n    return {\n      message: `Game over,`,\n      messageText: `Your score is`,\n      graduationMessage: `You can't even finish the school.`,\n      schoolScoreMessage: `Your score is`,\n      userName: ``,\n      highestScore: null,\n      networkProblemDialog: false,\n      tryAgainBtnLoading: false,\n      offlineSaveUserMessage: `You are offline,\n        connect to the internet to save results.\n        If you choose to cancel, results are saved\n        in local storage and will be saved to DB\n        next time you finish the game.`,\n      hiscoreGreeting: `Your highest score is`,\n      exclamation: `!`, // some over-engeneering\n      lastScores: ``,\n      schoolScores: ``,\n      dbUsersCollRef: `users`\n    }\n  },\n  computed: {\n    ...mapGetters([\n      `getTotalScore`,\n      `getSchoolScore`,\n      `getCurrentGameState`,\n      `getDefaultUserName`,\n      `getUserData`,\n      `isGameEnded`\n    ])\n  },\n  mounted() {\n    this.$nextTick(() => {\n      console.log(`Game over view mounted.`)\n      // check user auth status\n      if (this.getUserData.isAuthenticated) {\n        this.userName = localStorage.getItem(`userName`)\n      } else {\n        this.userName = this.getDefaultUserName\n      }\n      if (this.isGameEnded) {\n        // collect them when game finished\n        // i.e. user played the game till the end\n        // and not actually reloading the page\n        if (localStorage.getItem(`highestScore`) === ``) {\n          // check if user ever played a game\n          console.log(`No local storage score array exist yet, creating one`)\n          this.highestScore = this.getTotalScore // first run\n          localStorage.setItem(`highestScore`, this.getTotalScore)\n          // and\n          this.addScoreToDatabase()\n        } else {\n          this.lastScores = localStorage.getItem(`lastScoresArray`)\n          this.schoolScores = localStorage.getItem(`schoolScores`)\n          this.highestScore = localStorage.getItem(`highestScore`)\n          // just add it already\n          this.addScoreToDatabase()\n        }\n        this.$store.dispatch(`setLastSave`).then(() => {\n          // don't show dice box after saving results\n          // till reset\n          console.log(`This was the last save until reset.`)\n        })\n        this.$store.dispatch(`resetGameOver`, false).then(() => {\n          // set to default state so repeating visits\n          // to this page won't fill our array with zeroes\n          console.log(`Resetting game over.`)\n        })\n      } else {\n        console.log(`Nothing to record, play the game.`)\n      }\n    })\n  },\n  methods: {\n    ...mapActions([\n      `resetGameOver`,\n      `setLastSave`\n    ]),\n    restartGame() {\n      console.log(`Restarting game.`)\n      store.commit(`resetState`)\n      this.$router.push(`/game`)\n    },\n    // add anonymous score to local storage\n    addScoreToDatabase() {\n      console.log(`Adding score.`)\n      // one function?\n      if (this.lastScores === ``) {\n        this.lastScores = [] // first run\n      } else {\n        this.lastScores = this.lastScores.split(`,`)\n      }\n      if (this.schoolScores === ``) {\n        this.schoolScores = []\n      } else {\n        this.schoolScores = this.schoolScores.split(`,`)\n      }\n      // check for new highest score\n      if (this.getTotalScore > this.highestScore) {\n        this.highestScore = this.getTotalScore\n        localStorage.setItem(`highestScore`, this.getTotalScore)\n      } else {\n        console.log(`Your score is not so high: ${this.getTotalScore}`)\n      }\n      if (this.getCurrentGameState.schoolCompleted) {\n        // record game result if school completed\n        this.lastScores.push(this.getTotalScore)\n        localStorage.setItem(`lastScoresArray`, this.lastScores)\n        // and school result for stats\n        this.schoolScores.push(this.getSchoolScore)\n        localStorage.setItem(`schoolScores`, this.schoolScores)\n      } else {\n        // game ended in school,\n        // so we have only school result to save\n        this.schoolScores.push(this.getSchoolScore)\n        localStorage.setItem(`schoolScores`, this.schoolScores)\n      }\n      //\n      // finally check if user is registered\n      //\n      if (!this.getUserData.isAuthenticated) {\n        console.log(`Anonymous! To save results please register.`)\n      } else if (this.getUserData.isAuthenticated && this.isOnline) {\n        console.log(`User is authenticated and network is online. Syncing with firestore.`)\n        this.syncScoreWithFirestore()\n      } else if (this.getUserData.isAuthenticated && !this.isOnline &&\n        this.isGameEnded) {\n        console.log(`User is authenticated but network is offline.`)\n        // this.networkProblemDialog = true\n        this.toggleNetworkProblemDialog()\n      } else {\n        console.log(`Something went wrong in the piping system.`)\n      }\n    },\n    // if user exists add score to the account\n    syncScoreWithFirestore() {\n      this.tryAgainBtnLoading = !this.tryAgainBtnLoading\n      console.log(`Syncing score for user ${localStorage.getItem(`userName`)}`)\n      const uid = localStorage.getItem(`userUid`)\n      db.collection(this.dbUsersCollRef).where(`uid`, `==`, uid)\n        .get()\n        .then(querySnapshot => {\n          let docToUpdateId\n          querySnapshot.forEach(doc => {\n            // doc.data() is never undefined for query doc snapshots\n            if (doc.data().uid === uid) {\n              docToUpdateId = doc.id\n            }\n          })\n          return docToUpdateId\n        })\n        .then(docToUpdateId => {\n          const docRef = db.collection(this.dbUsersCollRef).doc(docToUpdateId)\n          const resultsArrayToUpdate = localStorage.getItem(`lastScoresArray`)\n          const highestScoreToUpdate = localStorage.getItem(`highestScore`)\n          const schoolScoresToUpdate = localStorage.getItem(`schoolScores`)\n          docRef.update({\n            resultsArray: resultsArrayToUpdate,\n            schoolResultsArray: schoolScoresToUpdate,\n            hiScore: highestScoreToUpdate\n          })\n          console.log(`...updating user stats`)\n          this.tryAgainBtnLoading = !this.tryAgainBtnLoading\n          this.networkProblemDialog = false\n          // this.networkProblemDialog = !this.networkProblemDialog\n          // this.toggleNetworkProblemDialog()\n          return true\n        })\n        .catch(error => {\n          this.tryAgainBtnLoading = !this.tryAgainBtnLoading\n          console.log(`Error getting documents: `, error)\n        })\n    },\n    toggleNetworkProblemDialog () {\n      this.networkProblemDialog = !this.networkProblemDialog\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import \"../assets/scss/index.scss\";\n\n.user-name-game-end, .message-school, .message-game, .offline-save-message {\n  font-family: $text-font;\n}\n.user-name-game-end {\n  span {\n    color: $color-chosen;\n  }\n}\n.message-school {\n  line-height: 1.5;\n}\n.offline-save-message {\n  font-size: 1.2em;\n  padding-top: 0;\n  text-indent: 1em;\n}\n.network-check-background {\n  height: 3em;\n}\n\n.chosen {\n  color: red;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EndGame.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EndGame.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EndGame.vue?vue&type=template&id=b2692bd0&scoped=true&\"\nimport script from \"./EndGame.vue?vue&type=script&lang=js&\"\nexport * from \"./EndGame.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EndGame.vue?vue&type=style&index=0&id=b2692bd0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2692bd0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}