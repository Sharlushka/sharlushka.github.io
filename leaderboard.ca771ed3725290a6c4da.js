(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"17iW":function(e,a,t){(e.exports=t("JPst")(!1)).push([e.i,'@font-face{font-family:\'Quicksand\';font-style:normal;font-weight:400;font-display:swap;src:local("Quicksand Regular"),local("Quicksand-Regular"),url(https://fonts.gstatic.com/s/quicksand/v8/6xKtdSZaM9iE8KbpRA_hK1QN.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:\'Montserrat\';font-style:normal;font-weight:400;font-display:swap;src:local("Montserrat Regular"),local("Montserrat-Regular"),url(https://fonts.gstatic.com/s/montserrat/v12/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116}*[data-v-33cff31a]{font-family:"Quicksand","Verdana",sans-serif}.highlighted[data-v-33cff31a]{color:#FF9800 !important}.default-icon-color[data-v-33cff31a]{color:#7B1FA2}.button[data-v-33cff31a]{border-radius:.3em;line-height:2em}.button-icon-margin[data-v-33cff31a]{margin:.3em}.dialog[data-v-33cff31a]{font-size:1.3em;border-radius:.3em;border:0.1em solid #7B4B9D !important}.input-icon[data-v-33cff31a]{color:#e4c2ff}.default-text-color[data-v-33cff31a]{color:#7B1FA2}#leaderboard[data-v-33cff31a]{font-family:"Quicksand","Verdana",sans-serif}.leaderboard-title[data-v-33cff31a]{font-size:2em}.leaderboard-legend[data-v-33cff31a]{font-weight:700;color:#301246;background-color:rgba(242,225,255,0.5)}.no-leaderboard-message[data-v-33cff31a]{margin:1em 0em 1em 0em;color:#7B4B9D;font-size:1.6em}.error-message[data-v-33cff31a]{font-size:1.3em;color:#ff5050}.leaderboard[data-v-33cff31a]{font-size:1.2em;font-weight:700;color:#7B4B9D}.leaderboard-item[data-v-33cff31a]:hover{background-color:rgba(242,225,255,0.5)}.v-progress-circular[data-v-33cff31a]{margin:1rem}\n',""])},aVAT:function(e,a,t){"use strict";t.r(a);t("yt8O"),t("RW0V"),t("xfY5"),t("KKXr"),t("rE2o"),t("ioFf"),t("f3/d"),t("rGqo");var r=t("nPhw"),o=t("L2JU"),s=t("Hfx9");function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var l={name:"Leaderboard",components:{listIcon:r.a},data:function(){return{title:"leaderboard",userName:null,leaderboard:[],userDataFromDB:[],noLeaderboardMessage:null,errorMessage:null,leaderboardLoading:!1}},computed:function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(a){n(e,a,t[a])})}return e}({},Object(o.c)(["getDefaultUserName","getUserData","getMaxPossibleScore"])),mounted:function(){var e=this;this.$nextTick(function(){console.log("Leaderboard mounted."),e.leaderboardLoading=!0,e.getDataForLeaderboard(),e.userName=localStorage.getItem("userName")})},methods:{getDataForLeaderboard:function(){var e=this;s.a.collection("users").orderBy("hiScore").get().then(function(a){a.forEach(function(a){var t={id:a.id,userName:a.data().name,hiScore:a.data().hiScore,resultsArray:a.data().resultsArray};e.userDataFromDB.push(t)})}).then(function(){var a=!0,t=!1,r=void 0;try{for(var o,s=e.userDataFromDB[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var n=o.value,l=n.resultsArray.split(",").map(Number),c=parseInt(l.reduce(function(e,a){return e+a})/l.length),i=Math.floor(c/e.getMaxPossibleScore*100),f={id:n.id,userName:n.userName,hiScore:parseInt(n.hiScore),averageScore:c,percentFromMax:i,gamesPlayed:l.length};e.leaderboard.push(f)}}catch(e){t=!0,r=e}finally{try{a||null==s.return||s.return()}finally{if(t)throw r}}e.leaderboard.reverse(),e.leaderboardLoading=!1}).catch(function(a){e.noLeaderboardMessage="".concat(e.userName,"!\n          Please register to view more sensitive anonymous data."),e.errorMessage=a.message,e.leaderboardLoading=!1,console.log("Error getting documents: ",a)})}}},c=(t("qLX6"),t("KHd+")),i=Object(c.a)(l,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{attrs:{"fill-height":""}},[t("v-layout",{staticClass:"text-xs-center",attrs:{id:"leaderboard","align-space-around":"","justify-start":"",column:"","fill-height":""}},[t("v-flex",{attrs:{"py-3":""}},[t("h1",{staticClass:"leaderboard-title text-capitalize"},[e._v("\n        "+e._s(e.title)+"\n      ")])]),e._v(" "),t("v-flex",{staticClass:"leaderboard-legend text-xs-center pl-1",attrs:{"d-flex":""}},[t("v-layout",{attrs:{"align-center":""}},[t("v-flex",{attrs:{xs1:""}},[t("v-layout",{attrs:{"justify-center":""}},[t("listIcon",{staticClass:"default-icon-color"})],1)],1),e._v(" "),t("v-flex",{attrs:{xs3:""}},[e._v("\n          Name\n        ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n          HiScore\n        ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n          Average\n        ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n          % Max\n        ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n          Games\n        ")])],1)],1),e._v(" "),e.leaderboardLoading?t("v-flex",{attrs:{xs12:""}},[t("v-progress-circular",{attrs:{indeterminate:"",color:"purple darken-2"}})],1):e.noLeaderboardMessage?t("v-flex",{attrs:{xs12:"","pt-2":""}},[t("p",{staticClass:"error-message"},[e._v("\n        You got: "+e._s(e.errorMessage)+"\n      ")]),e._v(" "),t("p",{staticClass:"no-leaderboard-message"},[e._v("\n        "+e._s(e.noLeaderboardMessage)+"\n      ")])]):t("v-flex",{staticClass:"leaderboard",attrs:{xs12:""}},e._l(e.leaderboard,function(a,r){return t("v-layout",{key:r,staticClass:"leaderboard-item",class:{"orange--text":a.userName===e.userName},attrs:{"py-2":""}},[t("v-flex",{staticClass:"text-xs-center",attrs:{xs1:""}},[e._v("\n          "+e._s(r+1)+"\n        ")]),e._v(" "),t("v-flex",{staticClass:"text-xs-left",attrs:{xs3:""}},[e._v("\n          "+e._s(a.userName)+"\n        ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n          "+e._s(a.hiScore)+"\n        ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n          "+e._s(a.averageScore)+"\n        ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n          "+e._s(a.percentFromMax)+"\n        ")]),e._v(" "),t("v-flex",{attrs:{xs2:""}},[e._v("\n          "+e._s(a.gamesPlayed)+"\n        ")])],1)}),1)],1)],1)},[],!1,null,"33cff31a",null);a.default=i.exports},qLX6:function(e,a,t){"use strict";var r=t("yA6w");t.n(r).a},yA6w:function(e,a,t){var r=t("17iW");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t("SZ7m").default)("64e366fe",r,!0,{})}}]);
//# sourceMappingURL=leaderboard.ca771ed3725290a6c4da.js.map